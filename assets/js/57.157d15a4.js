(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{340:function(s,t,a){"use strict";a.r(t);var n=a(10),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql入门和常用笔记"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql入门和常用笔记"}},[s._v("#")]),s._v(" "),t("center",[s._v("mysql入门和常用笔记")])],1),s._v(" "),t("h2",{attrs:{id:"使用docker安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用docker安装mysql"}},[s._v("#")]),s._v(" 使用docker安装mysql")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql:5.7\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /docker/mysql/data\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" studymysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v(":3306 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" /docker/mysql/data:/var/lib/mysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("614489858")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--restart")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" mysql:5.7\n")])])]),t("h2",{attrs:{id:"创建测试数据库并生成测试数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建测试数据库并生成测试数据"}},[s._v("#")]),s._v(" 创建测试数据库并生成测试数据")]),s._v(" "),t("p",[s._v("使用sqlyog学习")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" study "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" utf8mb4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USE")]),s._v(" study"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("province"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BeiJing'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3214")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'复旦大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Shanghai'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6543")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BeiJing'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'浙江大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ZheJiang'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'山东大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Shandong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用以学习关联查询")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FLOAT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("active_days_within_30"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3214")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'复旦大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6543")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'浙江大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'山东大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2131")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'山东大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'复旦大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3214")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("112")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3214")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("113")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6543")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'right'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("115")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'right'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("116")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'right'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("117")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("118")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("112")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2131")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("114")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'right'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("113")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'wrong'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])])]),t("h2",{attrs:{id:"基础查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础查询"}},[s._v("#")]),s._v(" 基础查询")]),s._v(" "),t("p",[s._v("语法: "),t("code",[s._v("select 查询列表 from 表名;")])]),s._v(" "),t("h3",{attrs:{id:"查询所有字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询所有字段"}},[s._v("#")]),s._v(" 查询所有字段")]),s._v(" "),t("p",[t("code",[s._v("*")]),s._v("表示查询所有字段")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[s._v("id\tdevice_id\tgender\tage\tuniversity\tprovince\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),s._v("\t    male\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\t北京大学\t    BeiJing\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3214")]),s._v("\t    male\t\\N\t复旦大学\t    Shanghai\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6543")]),s._v("\t    female\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\t北京大学\t    BeiJing\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),s._v("\t    female\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("\t浙江大学\t    ZheJiang\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5432")]),s._v("\t    male\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\t山东大学\t    Shandong\n")])])]),t("h3",{attrs:{id:"查询单个字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询单个字段"}},[s._v("#")]),s._v(" 查询单个字段")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[s._v("university\n北京大学\n复旦大学\n北京大学\n浙江大学\n山东大学\n")])])]),t("h3",{attrs:{id:"查询多个字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询多个字段"}},[s._v("#")]),s._v(" 查询多个字段")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[s._v("id\tuniversity\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t北京大学\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t复旦大学\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\t北京大学\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\t浙江大学\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\t山东大学\n")])])]),t("h3",{attrs:{id:"查询表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询表达式"}},[s._v("#")]),s._v(" 查询表达式")]),s._v(" "),t("p",[t("code",[s._v("SELECT")]),s._v("可以直接跟表达式，如下(使用"),t("code",[s._v("as")]),s._v("起别名)")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" total"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"total"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2000"')]),s._v("\n")])])]),t("h3",{attrs:{id:"查询函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询函数"}},[s._v("#")]),s._v(" 查询函数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" VERSION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5.7.36"')]),s._v("\n")])])]),t("p",[t("code",[s._v("VERSION")]),s._v("是mysql内置函数,类似的还有日期，数学等相关函数")]),s._v(" "),t("h3",{attrs:{id:"去重"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#去重"}},[s._v("#")]),s._v(" 去重")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\n")])])]),t("p",[s._v("数据有多个重复，使用"),t("code",[s._v("DISTINCT")]),s._v("去重")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\n")])])]),t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" +")]),s._v(" "),t("p",[s._v("mysql中"),t("code",[s._v("+")]),s._v("不似主流编程语言，不具有拼接功能，只有运算符功能。")]),s._v(" "),t("h4",{attrs:{id:"两个数相加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#两个数相加"}},[s._v("#")]),s._v(" 两个数相加")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" total"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"total"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\n")])])]),t("h4",{attrs:{id:"字符与数相加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符与数相加"}},[s._v("#")]),s._v(" 字符与数相加")]),s._v(" "),t("p",[s._v("字符与数相加，mysql将试图将字符串转换成数字，若能转换成功，则当作数字相加；若转换失败，则将之视为0参与运算")]),s._v(" "),t("h4",{attrs:{id:"当字符可转化成数字时"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#当字符可转化成数字时"}},[s._v("#")]),s._v(" 当字符可转化成数字时")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'10'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" total"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"total"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"30"')]),s._v("\n")])])]),t("h4",{attrs:{id:"当字符不可转化成数字时"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#当字符不可转化成数字时"}},[s._v("#")]),s._v(" 当字符不可转化成数字时")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'ww'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" total"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"total"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\n")])])]),t("h4",{attrs:{id:"null与数相加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#null与数相加"}},[s._v("#")]),s._v(" null与数相加")]),s._v(" "),t("p",[s._v("只要其中一方为"),t("code",[s._v("null")]),s._v("，则结果为"),t("code",[s._v("null")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" total"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"total"')]),s._v("\n\\N\n")])])]),t("h3",{attrs:{id:"拼接字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#拼接字符"}},[s._v("#")]),s._v(" 拼接字符")]),s._v(" "),t("p",[s._v("如上所述"),t("code",[s._v("+")]),s._v("不具备字符拼接功能，在mysql中使用"),t("code",[s._v("CONCAT")]),s._v("完成该功能。"),t("code",[s._v("CONCAT")]),s._v("是内置函数，可将传入的多个字符串拼接成一个")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' !'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" title "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"title"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello 1 !"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello 2 !"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello 3 !"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello 4 !"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello 5 !"')]),s._v("\n")])])]),t("h2",{attrs:{id:"条件查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件查询"}},[s._v("#")]),s._v(" 条件查询")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("where")]),s._v("添加筛选条件")]),s._v(" "),t("h3",{attrs:{id:"条件运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件运算符"}},[s._v("#")]),s._v(" 条件运算符")]),s._v(" "),t("p",[s._v("大于:"),t("code",[s._v(">")]),s._v(", 小于:"),t("code",[s._v("<")]),s._v(", 等于:"),t("code",[s._v("=")]),s._v(", 不等于:"),t("code",[s._v("<>")]),s._v(", 小于等于；"),t("code",[s._v("<=")]),s._v(", 大于等于:"),t("code",[s._v(">=")])]),s._v(" "),t("h3",{attrs:{id:"逻辑运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算符"}},[s._v("#")]),s._v(" 逻辑运算符")]),s._v(" "),t("p",[s._v("与:"),t("code",[s._v("&&")]),s._v(", 或:"),t("code",[s._v("||")]),s._v(", 非:"),t("code",[s._v("!")])]),s._v(" "),t("h3",{attrs:{id:"模糊查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模糊查询"}},[s._v("#")]),s._v(" 模糊查询")]),s._v(" "),t("p",[s._v("模糊匹配:"),t("code",[s._v("LIKE")]),s._v(", 区间范围:"),t("code",[s._v("BETWEEN AND")]),s._v(", 集合之内:"),t("code",[s._v("IN")]),s._v(", 为null:"),t("code",[s._v("IS NULL")]),s._v(", 非null:"),t("code",[s._v("IS NOT NULL")])]),s._v(" "),t("p",[t("code",[s._v("null")]),s._v("不能用"),t("code",[s._v("=")]),s._v("比较，只能用"),t("code",[s._v("IS")]),s._v("或者安全等于"),t("code",[s._v("<=>")]),s._v("比较。反之普通比较不能用"),t("code",[s._v("IS")]),s._v("，但可以使用"),t("code",[s._v("<=>")]),s._v("。但"),t("code",[s._v("<=>")]),s._v("可读性较差，通常用"),t("code",[s._v("IS")])]),s._v(" "),t("h3",{attrs:{id:"举例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#举例"}},[s._v("#")]),s._v(" 举例")]),s._v(" "),t("h4",{attrs:{id:"筛选字段age不为null的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#筛选字段age不为null的数据"}},[s._v("#")]),s._v(" 筛选字段"),t("code",[s._v("age")]),s._v("不为"),t("code",[s._v("null")]),s._v("的数据")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT * FROM user_profile WHERE age IS NOT NULL;\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ZheJiang"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shandong"')]),s._v("\n")])])]),t("h4",{attrs:{id:"筛选字段id大于等于1-并且小于等于4的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#筛选字段id大于等于1-并且小于等于4的数据"}},[s._v("#")]),s._v(" 筛选字段"),t("code",[s._v("id")]),s._v("大于等于1，并且小于等于4的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("或者使用"),t("code",[s._v("BETWEEN AND")]),s._v("，"),t("code",[s._v("BETWEEN AND")]),s._v("含义与"),t("code",[s._v(">=")]),s._v("+"),t("code",[s._v("<=")]),s._v("一致，所以"),t("code",[s._v("BETWEEN AND")]),s._v("不要调换顺序")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("输出")]),s._v(" "),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    \\N\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shanghai"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ZheJiang"')]),s._v("\n")])])]),t("h4",{attrs:{id:"筛选字段province包含字符sh的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#筛选字段province包含字符sh的数据"}},[s._v("#")]),s._v(" 筛选字段"),t("code",[s._v("province")]),s._v("包含字符"),t("code",[s._v("Sh")]),s._v("的数据")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("LIKE")]),s._v("进行模糊查询，通常和通配符搭配使用，通配符常有:")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("%")]),s._v("，表示任意字符,包含0个字符")]),s._v(" "),t("li",[t("code",[s._v("_")]),s._v("，表示任意单个字符")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" province "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Sh%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    \\N\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shanghai"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shandong"')]),s._v("\n")])])]),t("p",[s._v("若查询的数据刚好就是或者包含"),t("code",[s._v("%")]),s._v(","),t("code",[s._v("_")]),s._v(",使用"),t("code",[s._v("\\")]),s._v("转义，比如查询第二个字符为"),t("code",[s._v("_")]),s._v("的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" province "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'_/_'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"筛选字段university是北京大学或山东大学的数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#筛选字段university是北京大学或山东大学的数据"}},[s._v("#")]),s._v(" 筛选字段"),t("code",[s._v("university")]),s._v("是"),t("code",[s._v("北京大学")]),s._v("或"),t("code",[s._v("山东大学")]),s._v("的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" university "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'山东大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shandong"')]),s._v("\n")])])]),t("h2",{attrs:{id:"排序查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#排序查询"}},[s._v("#")]),s._v(" 排序查询")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("ORDER BY")]),s._v("指定排序字段,升序排序(默认)"),t("code",[s._v("ASC")]),s._v("，降序排序"),t("code",[s._v("DESC")])]),s._v(" "),t("p",[s._v("按照字段"),t("code",[s._v("device_id")]),s._v("降序排列")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shandong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    \\N\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shanghai"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ZheJiang"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n")])])]),t("p",[t("code",[s._v("ORDER BY")]),s._v("也可以跟表达式,例如按照"),t("code",[s._v("age")]),s._v("降序排列("),t("code",[s._v("IFNULL")]),s._v("判断第一个参数是否为"),t("code",[s._v("null")]),s._v("，若为真，则使用第二个参数)：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" IFNULL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shandong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ZheJiang"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    \\N\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shanghai"')]),s._v("\n")])])]),t("h2",{attrs:{id:"常见内置函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见内置函数"}},[s._v("#")]),s._v(" 常见内置函数")]),s._v(" "),t("p",[s._v("语法："),t("code",[s._v("SELECT 函数名(实参列表);")])]),s._v(" "),t("h3",{attrs:{id:"单行函数-一个输入-一个输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单行函数-一个输入-一个输出"}},[s._v("#")]),s._v(" 单行函数(一个输入，一个输出)")]),s._v(" "),t("h4",{attrs:{id:"字符函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符函数"}},[s._v("#")]),s._v(" 字符函数")]),s._v(" "),t("h5",{attrs:{id:"length"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#length"}},[s._v("#")]),s._v(" LENGTH")]),s._v(" "),t("p",[s._v("功能:获取字符串字节长度，utf8mb4中一个汉字3个字节，一个英文字母一个字节")]),s._v(" "),t("h6",{attrs:{id:"英文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#英文"}},[s._v("#")]),s._v(" 英文")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" LENGTH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fish'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"length('fish')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\n")])])]),t("h6",{attrs:{id:"-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[s._v("#")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" LENGTH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'中文'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"length('中文')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6"')]),s._v("\n")])])]),t("h5",{attrs:{id:"concat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#concat"}},[s._v("#")]),s._v(" CONCAT")]),s._v(" "),t("p",[s._v("功能:拼接字符")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' world'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' !'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"msg"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello world !"')]),s._v("\n")])])]),t("h5",{attrs:{id:"upper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#upper"}},[s._v("#")]),s._v(" UPPER")]),s._v(" "),t("p",[s._v("功能:将字符变大写")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" UPPER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"upper('hello')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HELLO"')]),s._v("\n")])])]),t("h5",{attrs:{id:"lower"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lower"}},[s._v("#")]),s._v(" LOWER")]),s._v(" "),t("p",[s._v("功能:将字符变小写")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" LOWER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'WORLD'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"lower('WORLD')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"world"')]),s._v("\n")])])]),t("h5",{attrs:{id:"substr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#substr"}},[s._v("#")]),s._v(" SUBSTR")]),s._v(" "),t("p",[s._v("功能:截取字符串")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" SUBSTR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'helloworld'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"substr('helloworld', 2, 4)\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ello"')]),s._v("\n")])])]),t("h5",{attrs:{id:"instr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instr"}},[s._v("#")]),s._v(" INSTR")]),s._v(" "),t("p",[s._v("功能:返回子字符串在父字符串第一次出现位置，若找不到返回0，注意是从1开始计数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" INSTR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fish'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'is'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"index"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\n")])])]),t("h5",{attrs:{id:"trim"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#trim"}},[s._v("#")]),s._v(" TRIM")]),s._v(" "),t("p",[s._v("功能:去除字符串首尾空格")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" TRIM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'  fish   '")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"str"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fish"')]),s._v("\n")])])]),t("p",[s._v("功能: 可去除指定字符串")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" TRIM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fi'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fishfi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"str"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sh"')]),s._v("\n")])])]),t("h5",{attrs:{id:"lpad"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lpad"}},[s._v("#")]),s._v(" LPAD")]),s._v(" "),t("p",[s._v("功能:指定字符串长度，若长度不够，向左填充指定字符串")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" LPAD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*3'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"str"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*13*13*1fi"')]),s._v("\n")])])]),t("h5",{attrs:{id:"rpad"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rpad"}},[s._v("#")]),s._v(" RPAD")]),s._v(" "),t("p",[s._v("功能:指定字符串长度，若长度不够，向右填充指定字符串")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" RPAD"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*13'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"str"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fi*13*13*1"')]),s._v("\n")])])]),t("h5",{attrs:{id:"replace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replace"}},[s._v("#")]),s._v(" REPLACE")]),s._v(" "),t("p",[s._v("功能:将字符串中的字串替换掉")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REPLACE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'吃葡萄不吐葡萄皮'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'葡萄'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'西瓜'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("str"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"str"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"吃西瓜不吐西瓜皮"')]),s._v("\n")])])]),t("h4",{attrs:{id:"数学函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数学函数"}},[s._v("#")]),s._v(" 数学函数")]),s._v(" "),t("h5",{attrs:{id:"round"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#round"}},[s._v("#")]),s._v(" ROUND")]),s._v(" "),t("p",[s._v("功能:四舍五入")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ROUND")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.65")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ROUND")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.45")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ROUND")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.35")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-1"')]),s._v("\n")])])]),t("p",[s._v("指定保留位数,以保留两位为例:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ROUND")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.653")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"round(1.653, 2)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.65"')]),s._v("\n")])])]),t("h5",{attrs:{id:"ceil"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ceil"}},[s._v("#")]),s._v(" CEIL")]),s._v(" "),t("p",[s._v("功能:向上取整")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CEIL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.253")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ceil(1.253)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\n")])])]),t("h5",{attrs:{id:"floor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#floor"}},[s._v("#")]),s._v(" FLOOR")]),s._v(" "),t("p",[s._v("功能:向下取整")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" FLOOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.853")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"floor(1.853)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n")])])]),t("h5",{attrs:{id:"truncate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#truncate"}},[s._v("#")]),s._v(" TRUNCATE")]),s._v(" "),t("p",[s._v("功能:截断，多余的位数将被舍弃")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRUNCATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.85355")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"num"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.853"')]),s._v("\n")])])]),t("h5",{attrs:{id:"mod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mod"}},[s._v("#")]),s._v(" MOD")]),s._v(" "),t("p",[s._v("功能:取余，相当于主流编程语言的"),t("code",[s._v("%")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("MOD")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" num"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"num"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n")])])]),t("h4",{attrs:{id:"日期函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日期函数"}},[s._v("#")]),s._v(" 日期函数")]),s._v(" "),t("h5",{attrs:{id:"now"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#now"}},[s._v("#")]),s._v(" NOW")]),s._v(" "),t("p",[s._v("功能:返回当前日期")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"now()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-12-12 23:16:46"')]),s._v("\n")])])]),t("h5",{attrs:{id:"curdate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#curdate"}},[s._v("#")]),s._v(" CURDATE")]),s._v(" "),t("p",[s._v("功能:返回当前日期,不包括时间")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CURDATE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"curdate()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-12-12"')]),s._v("\n")])])]),t("h5",{attrs:{id:"curtime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#curtime"}},[s._v("#")]),s._v(" CURTIME")]),s._v(" "),t("p",[s._v("功能:返回当前时间,不包括日期")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CURTIME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"curtime()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23:19:11"')]),s._v("\n")])])]),t("h5",{attrs:{id:"年月日时分秒"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#年月日时分秒"}},[s._v("#")]),s._v(" 年月日时分秒")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("YEAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("year"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MONTH")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("month"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" DAYOFMONTH"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CURDATE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HOUR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("hour"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MINUTE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("minute"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SECOND")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("second"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"year"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"month"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"date"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hour"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"minute"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"second"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"27"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"50"')]),s._v("\n")])])]),t("h5",{attrs:{id:"str-to-date"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#str-to-date"}},[s._v("#")]),s._v(" STR_TO_DATE")]),s._v(" "),t("p",[s._v("功能:将日期格式字符串转换成日期")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("YEAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STR_TO_DATE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2000-12-12'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%c-%d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"year(STR_TO_DATE('2000-12-12', '%Y-%c-%d')) = 2000\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n")])])]),t("h5",{attrs:{id:"date-format"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#date-format"}},[s._v("#")]),s._v(" DATE_FORMAT")]),s._v(" "),t("p",[s._v("功能:将日期格式化成指定格式字符串")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" DATE_FORMAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("NOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y/%m/%d'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"date_format(now(), '%Y/%m/%d')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020/12/12"')]),s._v("\n")])])]),t("h5",{attrs:{id:"datediff"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#datediff"}},[s._v("#")]),s._v(" DATEDIFF")]),s._v(" "),t("p",[s._v("功能:计算两个日期相差多少天,可以传日期，也可以传日期格式字符串")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" DATEDIFF"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2020-11-11'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2020-11-15'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"datediff('2020-11-11', '2020-11-15')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-4"')]),s._v("\n")])])]),t("h4",{attrs:{id:"其他函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他函数"}},[s._v("#")]),s._v(" 其他函数")]),s._v(" "),t("h5",{attrs:{id:"version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[s._v("#")]),s._v(" VERSION")]),s._v(" "),t("p",[s._v("功能:查询mysql版本")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" VERSION"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"version()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5.7.36"')]),s._v("\n")])])]),t("h5",{attrs:{id:"database"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#database"}},[s._v("#")]),s._v(" DATABASE")]),s._v(" "),t("p",[s._v("功能:查询当前数据库")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"database()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"study"')]),s._v("\n")])])]),t("h5",{attrs:{id:"user"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[s._v("#")]),s._v(" USER")]),s._v(" "),t("p",[s._v("功能:查询当前用户")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user()"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root@192.168.2.111"')]),s._v("\n")])])]),t("h4",{attrs:{id:"流程控制函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制函数"}},[s._v("#")]),s._v(" 流程控制函数")]),s._v(" "),t("h5",{attrs:{id:"if"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#if"}},[s._v("#")]),s._v(" IF")]),s._v(" "),t("p",[s._v("功能:大致相当于主流编程语言"),t("code",[s._v("if")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'正确'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'错误'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"if(1>2, '正确', '错误')\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"错误"')]),s._v("\n")])])]),t("h5",{attrs:{id:"case"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#case"}},[s._v("#")]),s._v(" CASE")]),s._v(" "),t("p",[s._v("功能:大致相当于主流编程语言"),t("code",[s._v("switch")]),s._v(",语法有较大出入。配套关键字有"),t("code",[s._v("CASE")]),s._v(","),t("code",[s._v("WHEN")]),s._v(", "),t("code",[s._v("THEN")]),s._v(", "),t("code",[s._v("ELSE")]),s._v(", "),t("code",[s._v("END")]),s._v("，其中"),t("code",[s._v("CASE")]),s._v("可以理解成主流编程语言"),t("code",[s._v("switch")]),s._v("，"),t("code",[s._v("END")]),s._v("表示结束， "),t("code",[s._v("WHEN")]),s._v("相当于主流编程语言"),t("code",[s._v("case")]),s._v(", "),t("code",[s._v("THEN")]),s._v("相当于主流编程语言的执行块，"),t("code",[s._v("ELSE")]),s._v("相当于主流编程语言"),t("code",[s._v("default")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京大学'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'北京地区'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'复旦大学'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'上海地区'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'浙江大学'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'浙江地区'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'山东地区'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'area'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"province"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"area"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京地区"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    \\N\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shanghai"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"上海地区"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BeiJing"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京地区"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ZheJiang"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江地区"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Shandong"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东地区"')]),s._v("\n")])])]),t("p",[s._v("另一种语法"),t("code",[s._v("CASE")]),s._v("不跟字段，从语法来说更相似主流编程语言的"),t("code",[s._v("if(){}else if(){}")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CASE")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'设备id大于6000'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'设备id大于5000'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHEN")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'设备id大于4000'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ELSE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'设备id小于等于4000'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'备注'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"备注"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"设备id小于等于4000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"设备id小于等于4000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"设备id大于6000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"设备id小于等于4000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"设备id大于5000"')]),s._v("\n")])])]),t("h3",{attrs:{id:"聚合函数-多行输入-一个输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#聚合函数-多行输入-一个输出"}},[s._v("#")]),s._v(" 聚合函数(多行输入，一个输出)")]),s._v(" "),t("h4",{attrs:{id:"sum"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sum"}},[s._v("#")]),s._v(" SUM")]),s._v(" "),t("p",[s._v("功能:对所选行指定的字段进行求和")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SUm(id)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15"')]),s._v("\n")])])]),t("p",[s._v("一共5行，将5行的"),t("code",[s._v("id")]),s._v("进行求和并输出一个值")]),s._v(" "),t("h4",{attrs:{id:"avg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#avg"}},[s._v("#")]),s._v(" AVG")]),s._v(" "),t("p",[s._v("功能:对所选行指定的字段求平均值")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"avg(id)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.0000"')]),s._v("\n")])])]),t("h4",{attrs:{id:"min"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#min"}},[s._v("#")]),s._v(" MIN")]),s._v(" "),t("p",[s._v("功能:找出所选行指定的字段最小值")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("MIN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"min(id)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n")])])]),t("h4",{attrs:{id:"max"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#max"}},[s._v("#")]),s._v(" MAX")]),s._v(" "),t("p",[s._v("功能:找出所选行指定的字段最大值")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"max(id)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\n")])])]),t("h4",{attrs:{id:"count"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#count"}},[s._v("#")]),s._v(" COUNT")]),s._v(" "),t("p",[s._v("功能:统计所选行指定的字段的个数，"),t("code",[s._v("null")]),s._v("不计入统计")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"COUNT(id)"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"count(age)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\n")])])]),t("h4",{attrs:{id:"和distinct搭配-先去重再聚合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#和distinct搭配-先去重再聚合"}},[s._v("#")]),s._v(" 和DISTINCT搭配(先去重再聚合)")]),s._v(" "),t("p",[s._v("以"),t("code",[s._v("COUNT")]),s._v("举例,有两条数据"),t("code",[s._v("university")]),s._v("是北京大学")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"COUNT(distinct `university`)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\n")])])]),t("h3",{attrs:{id:"函数嵌套"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数嵌套"}},[s._v("#")]),s._v(" 函数嵌套")]),s._v(" "),t("p",[s._v("将函数作为参数传入另一个函数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" SUBSTR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UPPER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'helloworld'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"substr(UPPER('helloworld'), 2, 4)\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ELLO"')]),s._v("\n")])])]),t("h2",{attrs:{id:"分组查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分组查询"}},[s._v("#")]),s._v(" 分组查询")]),s._v(" "),t("p",[s._v("使用关键字"),t("code",[s._v("GROUP BY")]),s._v("实现分组")]),s._v(" "),t("p",[s._v("注意:若要使用"),t("code",[s._v("GROUP BY")]),s._v("，之前必须使用聚合函数。")]),s._v(" "),t("p",[s._v("举例:以"),t("code",[s._v("university")]),s._v("分组查询数据")]),s._v(" "),t("p",[s._v("错误示范(未在前面使用聚合函数):")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("正确示范,使用聚合函数"),t("code",[s._v("MAX")]),s._v("(用以举例):")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("MAX")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"max(id)"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\n")])])]),t("h3",{attrs:{id:"having-分组后筛选"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#having-分组后筛选"}},[s._v("#")]),s._v(" HAVING(分组后筛选)")]),s._v(" "),t("p",[s._v("对分组查询"),t("strong",[s._v("后")]),s._v("的数据进行筛选不能用"),t("code",[s._v("WHERE")]),s._v("，需要使用"),t("code",[s._v("HAVING")])]),s._v(" "),t("p",[s._v("举例:以"),t("code",[s._v("university")]),s._v("进行分组，并筛选出个数大于1的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HAVING")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"COUNT(*)"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\n")])])]),t("h3",{attrs:{id:"添加排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加排序"}},[s._v("#")]),s._v(" 添加排序")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AVG")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"avg(device_id)"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432.0000"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4340.5000"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214.0000"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315.0000"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\n")])])]),t("h2",{attrs:{id:"连接查询-多表查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接查询-多表查询"}},[s._v("#")]),s._v(" 连接查询(多表查询)")]),s._v(" "),t("p",[s._v("语法:")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT 查询列表\nFROM 表1 [别名]\n[连接类型,默认INNER] JOIN 表2 [别名]\nON 连接条件\n[WHERE 筛选条件]\n[GROUP BY 分组]\n[HAVING 分组后筛选]\n[ORDER BY 排序]\n")])])]),t("p",[s._v("连接类型:")]),s._v(" "),t("ul",[t("li",[s._v("INNER:内联,取交集，即查询的结果必须是左边和右表都存在的连接条件")]),s._v(" "),t("li",[s._v("LEFT:左联,以左表为基准(主表)，右表若缺少连接条件的数据，将以"),t("code",[s._v("null")]),s._v("补齐")]),s._v(" "),t("li",[s._v("RIGHT:右联,以右表为基准(主表)，左表若缺少连接条件的数据，将以"),t("code",[s._v("null")]),s._v("补齐")])]),s._v(" "),t("p",[s._v("左联，右联其实是一个东西,调换顺序可互相转换。通常用左联。通常需要查询的数据主要来自哪个表，则选择其作为主表")]),s._v(" "),t("h3",{attrs:{id:"内连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内连接"}},[s._v("#")]),s._v(" 内连接")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tquestion_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tquestion_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"question_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"result"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"112"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"113"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"115"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"116"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"117"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"118"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"112"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"113"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n")])])]),t("h3",{attrs:{id:"左外连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#左外连接"}},[s._v("#")]),s._v(" 左外连接")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tquestion_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tquestion_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"question_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"result"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"112"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"113"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"115"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"116"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"117"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"118"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"112"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"113"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t\\N\t            \\N\n")])])]),t("p",[t("strong",[s._v("说明")]),s._v(":右表"),t("code",[s._v("question_practice_detail")]),s._v("其实没有"),t("code",[s._v("device_id")]),s._v("为"),t("code",[s._v("4321")]),s._v("的数据，但左表有，最终结果将会补上这条数据，右表"),t("code",[s._v("question_practice_detail")]),s._v("缺失的部分以"),t("code",[s._v("null")]),s._v("补齐")]),s._v(" "),t("h3",{attrs:{id:"右外连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#右外连接"}},[s._v("#")]),s._v(" 右外连接")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tquestion_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\tquestion_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RIGHT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gpa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"question_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"result"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"112"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"113"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"115"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"116"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"117"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"118"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"112"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"113"')]),s._v("\t        "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n")])])]),t("h2",{attrs:{id:"子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子查询"}},[s._v("#")]),s._v(" 子查询")]),s._v(" "),t("p",[s._v("将一个查询的结果作为查询列表放到另一个查询。子查询可出现在"),t("code",[s._v("SELECT")]),s._v(","),t("code",[s._v("FROM")]),s._v(","),t("code",[s._v("WHERE")]),s._v(","),t("code",[s._v("HAVING")]),s._v("和"),t("code",[s._v("EXISTS")]),s._v("后。")]),s._v(" "),t("h3",{attrs:{id:"where后的单行单列子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#where后的单行单列子查询"}},[s._v("#")]),s._v(" WHERE后的单行单列子查询")]),s._v(" "),t("p",[s._v("子查询的结果是单行单列")]),s._v(" "),t("p",[s._v("举例:查询所有gpa大于device_id为2315的gpa的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2315")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"active_days_within_30"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    \\N\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\n")])])]),t("h3",{attrs:{id:"where后的多行单列子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#where后的多行单列子查询"}},[s._v("#")]),s._v(" WHERE后的多行单列子查询")]),s._v(" "),t("p",[s._v("子查询的结果是多行单列，通常搭配"),t("code",[s._v("IN")]),s._v(","),t("code",[s._v("NOT IN")]),s._v(","),t("code",[s._v("ANY")]),s._v(","),t("code",[s._v("SOME")]),s._v(","),t("code",[s._v("ALL")])]),s._v(" "),t("p",[s._v("举例:查询所有gpa在device_id大于4000的数据的gpa的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"active_days_within_30"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.2"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9"')]),s._v("\n")])])]),t("h3",{attrs:{id:"select后的子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#select后的子查询"}},[s._v("#")]),s._v(" SELECT后的子查询")]),s._v(" "),t("p",[s._v("举例:查询每个设备的答题次数")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n\tuser_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" question_practice_detail \n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("device_id\n\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('"device_id"\t"count"\n"2138"\t    "1"\n"3214"\t    "2"\n"6543"\t    "1"\n"2315"\t    "3"\n"5432"\t    "3"\n"2131"\t    "1"\n"4321"\t    "0"\n')])])]),t("h3",{attrs:{id:"from后的子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#from后的子查询"}},[s._v("#")]),s._v(" FROM后的子查询")]),s._v(" "),t("p",[s._v("举例:查询gpa大于3.5的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" gpa \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v(":"),t("code",[s._v("FROM")]),s._v("后的子查询结果其实是作为数据源来使用，所以需要像表一样给他取一个别名")]),s._v(" "),t("h2",{attrs:{id:"分页查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分页查询"}},[s._v("#")]),s._v(" 分页查询")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LIMIT [offset 默认0] size\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v(":"),t("code",[s._v("offset")]),s._v("开始位置,"),t("code",[s._v("size")]),s._v("选取条数。"),t("code",[s._v("offset")]),s._v("从"),t("code",[s._v("0")]),s._v("开始计数。")]),s._v(" "),t("p",[s._v("举例:从第5个开始，选取2条数据。也就是选择第4和5两条数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\n")])])]),t("p",[s._v("对于分页业务来说，页码"),t("code",[s._v("page")]),s._v("(通常从1开始)和每页数据量"),t("code",[s._v("size")]),s._v("来说，有公式")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LIMIT (page - 1) * size, size\n")])])]),t("h2",{attrs:{id:"联合查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联合查询"}},[s._v("#")]),s._v(" 联合查询")]),s._v(" "),t("p",[s._v("将多条查询语句的结果合并成一个结果。使用关键字"),t("code",[s._v("UNION")]),s._v("联合两个sql语句。")]),s._v(" "),t("p",[s._v("语法:")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("查询语句1\nUNION\n查询语句2\nUNION\n...\n")])])]),t("p",[s._v("举例: 查询"),t("code",[s._v("device_id")]),s._v("大于4000或者"),t("code",[s._v("question_id")]),s._v("是偶数的数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" university "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4000")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v("  device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" question_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wrong"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2131"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v(":")]),s._v(" "),t("ul",[t("li",[s._v("两个查询的列数必须一致，列名是以第一个查询语句决定")]),s._v(" "),t("li",[s._v("多个查询的列的类型要一致，否则会产生bug(浮点型数据遇到过精度问题)")]),s._v(" "),t("li",[t("code",[s._v("UNION")]),s._v("不加"),t("code",[s._v("ALL")]),s._v(",则会对数据进行去重")]),s._v(" "),t("li",[s._v("通常不使用联合查询，除非数据来自两个(或多个)表，并且查询结果需要拼接")])]),s._v(" "),t("h2",{attrs:{id:"查询关键字执行顺序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询关键字执行顺序"}},[s._v("#")]),s._v(" 查询关键字执行顺序")]),s._v(" "),t("ol",[t("li",[s._v("FROM")]),s._v(" "),t("li",[s._v("JOIN")]),s._v(" "),t("li",[s._v("ON")]),s._v(" "),t("li",[s._v("WHERE")]),s._v(" "),t("li",[s._v("GROUP BY")]),s._v(" "),t("li",[s._v("HAVING")]),s._v(" "),t("li",[s._v("SELECT")]),s._v(" "),t("li",[s._v("ORDER BY")]),s._v(" "),t("li",[s._v("LIMIT [offset] size")])]),s._v(" "),t("h2",{attrs:{id:"插入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插入"}},[s._v("#")]),s._v(" 插入")]),s._v(" "),t("p",[s._v("语法(列名顺序和建表时一致)")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("INSERT INTO 表名\nVALUES (值),(值)...;\n")])])]),t("p",[s._v("可以指定列名"),t("em",[s._v("个数")]),s._v("和"),t("em",[s._v("顺序")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("INSERT INTO 表名(列名1,列名2,...)\nVALUES(值1, 值2, ...),(值1, 值2, ...),...;\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v(":值的"),t("em",[s._v("个数")]),s._v("和"),t("em",[s._v("顺序")]),s._v("必须和列名"),t("em",[s._v("个数")]),s._v("和"),t("em",[s._v("顺序")]),s._v("一致")]),s._v(" "),t("p",[s._v("举例:向表"),t("code",[s._v("user_profile2")]),s._v("插入一条数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'重庆大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"active_days_within_30"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.4"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"7"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t\\N\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.2"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2131"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.3"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"重庆大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.7"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11"')]),s._v("\n")])])]),t("h3",{attrs:{id:"方式二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("INSERT INTO 表明\nSET 列名=值,列名=值,...;\n")])])]),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" user_profile2 \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" gender"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'四川大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"active_days_within_30"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.4"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"7"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3214"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t\\N\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6543"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.2"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"12"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2315"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"23"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"浙江大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5432"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"25"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.8"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2131"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"山东大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.3"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"15"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"复旦大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.6"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"重庆大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.7"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"male"')]),s._v("\t\t\\N\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"四川大学"')]),s._v("\t\t\\N\t\t\\N\n")])])]),t("h2",{attrs:{id:"修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改"}},[s._v("#")]),s._v(" 修改")]),s._v(" "),t("h3",{attrs:{id:"修改单个表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改单个表"}},[s._v("#")]),s._v(" 修改单个表")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("UPDATE 表名\nSET 列=值,列=值,...\nWHERE 筛选条件\n")])])]),t("p",[s._v("筛选条件不是必须,但不加则会修改整张表。所以绝大多数情况都需要加。")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" user_profile2 \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" gender"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"university"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gpa"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"active_days_within_30"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5321"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"33"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"重庆大学"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3.7"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11"')]),s._v("\n")])])]),t("h3",{attrs:{id:"修改多个关联表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改多个关联表"}},[s._v("#")]),s._v(" 修改多个关联表")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("UPDATE 表1 [表1别名]\n连接类型 JOIN 表2 [表2别名]\nON 连接条件\nSET 列=值,列=值,...\nWHERE 筛选条件\n")])])]),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'female'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'right'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("question_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"device_id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gender"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"result"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"question_id"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2138"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"female"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"111"')]),s._v("\n")])])]),t("h2",{attrs:{id:"删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),t("h3",{attrs:{id:"删除单个表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除单个表"}},[s._v("#")]),s._v(" 删除单个表")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DELETE FROM 表名\nWHERE 筛选条件\n")])])]),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"COUNT(*)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),s._v("\n")])])]),t("h3",{attrs:{id:"删除多个关联表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除多个关联表"}},[s._v("#")]),s._v(" 删除多个关联表")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DELETE 表1, 表2\nFROM 表1 [表1别名]\n连接类型 JOIN 表2 [表2别名]\nON 连接条件\nWHERE 筛选条件\n")])])]),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v("  user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" question_practice_detail\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" question_practice_detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2138")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"count(*)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),s._v("\n")])])]),t("h2",{attrs:{id:"库的管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#库的管理"}},[s._v("#")]),s._v(" 库的管理")]),s._v(" "),t("h3",{attrs:{id:"创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建"}},[s._v("#")]),s._v(" 创建")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE DATABASE 库名;\n")])])]),t("p",[s._v("示例见开头"),t("code",[s._v("创建测试数据库并生成测试数据")]),s._v(",不能重复创建，使用"),t("code",[s._v("IF NOT EXISTS")]),s._v("增加容错")]),s._v(" "),t("h3",{attrs:{id:"修改-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-2"}},[s._v("#")]),s._v(" 修改")]),s._v(" "),t("p",[s._v("通常修改字符集")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" mydb1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" gbk"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"删除-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除-2"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" mydb1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Database"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"information_schema"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"performance_schema"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"study"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sys"')]),s._v("\n")])])]),t("p",[s._v("不能重复删除，使用"),t("code",[s._v("IF EXISTS")]),s._v("增加容错")]),s._v(" "),t("h2",{attrs:{id:"表达管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表达管理"}},[s._v("#")]),s._v(" 表达管理")]),s._v(" "),t("h3",{attrs:{id:"创建-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建-2"}},[s._v("#")]),s._v(" 创建")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE TABLE 表名(\n\t列名 列的类型 [长度] [约束],\n\t列名 列的类型 [长度] [约束],\n\t列名 列的类型 [长度] [约束],\n\t...\n\t列名 列的类型 [长度] [约束],\n);\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("gender"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("university"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("province"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"修改-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-3"}},[s._v("#")]),s._v(" 修改")]),s._v(" "),t("h4",{attrs:{id:"修改列名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改列名"}},[s._v("#")]),s._v(" 修改列名")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER TABLE 表名 CHANGE COLUMN 旧列名 新列名 类型 约束\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table CHANGE "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" gender sex "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v(":修改表名的时候要连带上类型和约束")]),s._v(" "),t("h4",{attrs:{id:"修改列的类型或约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改列的类型或约束"}},[s._v("#")]),s._v(" 修改列的类型或约束")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER TABLE 表名 MODIFY COLUMN 列名 类型 约束\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODIFY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" sex "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BOOLEAN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"新增列"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新增列"}},[s._v("#")]),s._v(" 新增列")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER TABLE 表名 ADD COLUMN 列名 类型 约束\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"删除列"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除列"}},[s._v("#")]),s._v(" 删除列")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER TABLE 表名 DROP COLUMN 列名\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"修改表名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改表名"}},[s._v("#")]),s._v(" 修改表名")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER TABLE 旧表名 RENAME TO 新表名\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" my_table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"删除表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除表"}},[s._v("#")]),s._v(" 删除表")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP TABLE 表名;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" my_table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Tables_in_study"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"question_practice_detail"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_profile"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user_profile2"')]),s._v("\n")])])]),t("h3",{attrs:{id:"复制表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制表"}},[s._v("#")]),s._v(" 复制表")]),s._v(" "),t("h4",{attrs:{id:"仅复制表的结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#仅复制表的结构"}},[s._v("#")]),s._v(" 仅复制表的结构")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE TABLE 复制的表名 LIKE 被复制的表名;\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_copy_tanle "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"复制表的结构和数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制表的结构和数据"}},[s._v("#")]),s._v(" 复制表的结构和数据")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE TABLE 复制的表名 SELECT 查询列表 FROM 被复制的表名 [WHERE 筛选条件];\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_copy_tanle2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[s._v("#")]),s._v(" 索引")]),s._v(" "),t("p",[s._v("本该放到"),t("code",[s._v("表的修改")]),s._v("里，但我认为这比较重要，单开一张")]),s._v(" "),t("h4",{attrs:{id:"创建索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[s._v("#")]),s._v(" 创建索引")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER TABLE 表名 ADD INDEX 索引名(字段名);\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("device_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"删除索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除索引"}},[s._v("#")]),s._v(" 删除索引")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP INDEX 索引名 ON 表名;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" index_device_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" user_profile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"常见数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见数据类型"}},[s._v("#")]),s._v(" 常见数据类型")]),s._v(" "),t("h3",{attrs:{id:"整型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#整型"}},[s._v("#")]),s._v(" 整型")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("TINYINT")]),s._v(" 1字节")]),s._v(" "),t("li",[t("code",[s._v("SMALLINT")]),s._v(" 2字节")]),s._v(" "),t("li",[t("code",[s._v("MEDIUMINT")]),s._v(" 3字节")]),s._v(" "),t("li",[t("code",[s._v("INT/INTEGER")]),s._v(" 4字节")]),s._v(" "),t("li",[t("code",[s._v("BIGINT")]),s._v(" 8字节")])]),s._v(" "),t("p",[s._v("默认是有符号的数据。若想指定无符号数据，需使用关键字"),t("code",[s._v("UNSIGNED")]),s._v("指定,例如")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("t1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" t2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNSIGNED")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("如上，t1是有符号"),t("code",[s._v("INT")]),s._v(",t2是无符号"),t("code",[s._v("INT")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"浮点型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浮点型"}},[s._v("#")]),s._v(" 浮点型")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("FLOAT")]),s._v(" 4字节")]),s._v(" "),t("li",[t("code",[s._v("DOUBLE")]),s._v(" 8字节")]),s._v(" "),t("li",[t("code",[s._v("DEC/DECIMAL")]),s._v(" 占用字节取决于其精度和小数部分的长度，"),t("code",[s._v("M")]),s._v("范围为1到65535,"),t("code",[s._v("N")]),s._v("范围为0到30")])]),s._v(" "),t("p",[t("code",[s._v("FLOAT")]),s._v(","),t("code",[s._v("DOUBLE")]),s._v("和"),t("code",[s._v("DEC/DECIMAL")]),s._v("一致，有两个参数"),t("code",[s._v("M")]),s._v(","),t("code",[s._v("D")]),s._v("，"),t("code",[s._v("D")]),s._v("表示小数位数，"),t("code",[s._v("M")]),s._v("表示整数和小数位数之和。"),t("code",[s._v("M")]),s._v(","),t("code",[s._v("D")]),s._v("不是必传，"),t("code",[s._v("FLOAT")]),s._v(","),t("code",[s._v("DOUBLE")]),s._v("会自适应；"),t("code",[s._v("DEC/DECIMAL")]),s._v("默认"),t("code",[s._v("M")]),s._v("是10，"),t("code",[s._v("D")]),s._v("是0。所以"),t("code",[s._v("FLOAT")]),s._v(","),t("code",[s._v("DOUBLE")]),s._v("通常不指定。举例：")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tt1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FLOAT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tt2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DOUBLE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tt3 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECIMAL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123.45")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123.45")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123.45")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123.4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123.4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123.4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("234.567")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("234.567")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("234.567")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3456.7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3456.7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3456.7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t1"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t2"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"t3"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123.45"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123.45"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123.45"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123.40"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123.40"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123.40"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"234.57"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"234.57"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"234.57"')]),s._v("\n")])])]),t("p",[s._v("第一个插入是合法数据；第二个也是，但小数缺少一位，自动补全；第三个小数超出一位直接被截取；第四个整数位超出，直接插入失败")]),s._v(" "),t("h3",{attrs:{id:"字符型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符型"}},[s._v("#")]),s._v(" 字符型")]),s._v(" "),t("ul",[t("li",[s._v("CHAR 固定长度字符 参数"),t("code",[s._v("M")]),s._v("为"),t("strong",[s._v("字符")]),s._v("长度,可省略,默认为1")]),s._v(" "),t("li",[s._v("VARCHAR 可变长度字符(用多少占用多少) 参数"),t("code",[s._v("M")]),s._v("为"),t("strong",[s._v("字符")]),s._v("长度,"),t("strong",[s._v("不可省略")])])]),s._v(" "),t("h3",{attrs:{id:"日期型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日期型"}},[s._v("#")]),s._v(" 日期型")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("DATETIME")]),s._v(" 8字节")]),s._v(" "),t("li",[t("code",[s._v("TIMESTAMP")]),s._v(" 4字节")])]),s._v(" "),t("p",[s._v("时间戳"),t("code",[s._v("TIMESTAMP")]),s._v("由于占用字节较少，存储的时间将止于2038年。可以考虑用"),t("code",[s._v("BIGINT")]),s._v("来存储时间戳。时间戳是一个绝对的时间值，与时区无关，简单来说就是1607817600000在中国是2020-12-13,在美国也是2020-12-13")]),s._v(" "),t("h2",{attrs:{id:"常见约束"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见约束"}},[s._v("#")]),s._v(" 常见约束")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("NOT NULL")]),s._v(" 非空,保证该字段的值不能为空,可以理解成必填项")]),s._v(" "),t("li",[t("code",[s._v("DEFAULT")]),s._v(" 默认,用于保证该字段有默认值")]),s._v(" "),t("li",[t("code",[s._v("PRIMARY KEY")]),s._v(" 主键,保证字段唯一且非空")]),s._v(" "),t("li",[t("code",[s._v("UNIQUE")]),s._v(" 保证字段唯一,但可以为空。")])]),s._v(" "),t("p",[s._v("通常在列上添加约束。")]),s._v(" "),t("p",[s._v("修改表时添加约束就是"),t("code",[s._v("修改列的类型或约束")]),s._v(",示例在上面。建表时添加约束示例:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tNAME "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tage "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tseat "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("教程说一个表约束为"),t("code",[s._v("UNIQUE")]),s._v("的字段，只能存在一个"),t("code",[s._v("null")]),s._v("。经测试，这个说法是错误的,mysql版本"),t("code",[s._v("5.7.36")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangsan'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'18'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lisi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'28'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"seat"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhangsan"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"18"')]),s._v("\t\\N\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lisi"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t\\N\n")])])]),t("h2",{attrs:{id:"事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[s._v("#")]),s._v(" 事务")]),s._v(" "),t("p",[s._v("简单来说就是一个或多个sql语句当成一个执行单元，要么全部成功，要么全部失败，如果失败支持回滚。"),t("code",[s._v("INSERT")]),s._v(","),t("code",[s._v("UPDATE")]),s._v("和"),t("code",[s._v("DELETE")]),s._v("会隐式开启事务")]),s._v(" "),t("p",[s._v("显式开启事务步骤")]),s._v(" "),t("ol",[t("li",[t("code",[s._v("SET autocommit = 0;")]),s._v(":关闭自动提交("),t("code",[s._v("INSERT")]),s._v(","),t("code",[s._v("UPDATE")]),s._v("和"),t("code",[s._v("DELETE")]),s._v("会隐式开启事务,禁止他们自动提交)。这个设置影响范围是当前事务")]),s._v(" "),t("li",[t("code",[s._v("START TRANSACTION;")]),s._v(":开始事务")]),s._v(" "),t("li",[s._v("编写事务中的sql语句")]),s._v(" "),t("li",[t("code",[s._v("COMMIT/ROLLBACK")]),s._v(":"),t("code",[s._v("COMMIT")]),s._v("提交事务(写入磁盘)，"),t("code",[s._v("ROLLBACK")]),s._v("回滚事务")])]),s._v(" "),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" autocommit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"seat"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhangsan"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10"')]),s._v("\t\\N\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lisi"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t\\N\n")])])]),t("p",[s._v("回滚示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" autocommit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROLLBACK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"seat"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhangsan"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10"')]),s._v("\t\\N\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lisi"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20"')]),s._v("\t\\N\n")])])]),t("p",[s._v("接下来是重点，上面的代码无法抓住错误，也就不能自动回滚。需要搭配存储过程使用。")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $$\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("fn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HANDLER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" SQLEXCEPTION\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROLLBACK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 回滚事务")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" myTable values1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" myTable values2 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 这里会抛出错误")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 这里将不会被提交")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("$$\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("真实情况举例，建表")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("jsontest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("mydata"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" json "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENGINE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("InnoDB")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARSET")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4_0900_ai_ci\n")])])]),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" fn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $$\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("fn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("HANDLER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" SQLEXCEPTION\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ROLLBACK")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" jsontest "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{"phone": "13500001111"}\'')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" jsontest "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2333")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v("$$\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" fn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("上面代码会抛出错误，并自动回滚事务。表中不会写入任何数据。")]),s._v(" "),t("h3",{attrs:{id:"事务隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务隔离级别"}},[s._v("#")]),s._v(" 事务隔离级别")]),s._v(" "),t("p",[s._v("对于两个事务T1和T2")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("脏读")]),s._v("：T1读取了被T2更新但还"),t("strong",[s._v("没被提交")]),s._v("的数据之后，若T2回滚，T1读取的数据就是临时且无效的数据")]),s._v(" "),t("li",[t("code",[s._v("不可重复读")]),s._v("：T1读取了数据，然后T2"),t("strong",[s._v("更新")]),s._v("了数据之后，T1"),t("strong",[s._v("再次")]),s._v("读取该数据。两次读取的数据不一致")]),s._v(" "),t("li",[t("code",[s._v("幻读")]),s._v("：T1读取数(通常多行)，然后T2插入新行,之后T1再次读取就会多出几行")])]),s._v(" "),t("p",[s._v("脏读和幻读比较类似，脏读是读取被修改数据，幻读是读取被新增数据")]),s._v(" "),t("h4",{attrs:{id:"读未提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读未提交"}},[s._v("#")]),s._v(" 读未提交")]),s._v(" "),t("p",[s._v("可读取已修改未提交的数据，"),t("code",[s._v("脏读")]),s._v(","),t("code",[s._v("不可重复读")]),s._v("和"),t("code",[s._v("幻读")]),s._v("皆不可避免")]),s._v(" "),t("h4",{attrs:{id:"读已提交"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读已提交"}},[s._v("#")]),s._v(" 读已提交")]),s._v(" "),t("p",[s._v("不会读取已修改，但未提交的数据，此时读取的还是原始数据，可避免"),t("code",[s._v("脏读")]),s._v("问题，但不可避免"),t("code",[s._v("不可重复读")]),s._v("和"),t("code",[s._v("幻读")]),s._v("。")]),s._v(" "),t("p",[s._v("举例：事务T1修改了数据但未提交，此时T2读取到的数据还是原始数据，然后T1提交，T2再次读取数据，此时读取的是新数据，T2两次读取数据不一致，也就是"),t("code",[s._v("不可重复读")])]),s._v(" "),t("h4",{attrs:{id:"可重复读-默认"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可重复读-默认"}},[s._v("#")]),s._v(" 可重复读(默认)")]),s._v(" "),t("p",[s._v("简单来说就是读取的数据定格在开启事务的那一刻，之后不管该数据被其他事务如何修改，在本次事务到结束使用的都是原始数据。\n可避免"),t("code",[s._v("脏读")]),s._v("和"),t("code",[s._v("不可重复读")]),s._v("，不可避免"),t("code",[s._v("幻读")])]),s._v(" "),t("h4",{attrs:{id:"可串行化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可串行化"}},[s._v("#")]),s._v(" 可串行化")]),s._v(" "),t("p",[s._v("事务T1未完成，不开始事务T2。所有事务串行执行。"),t("code",[s._v("脏读")]),s._v(","),t("code",[s._v("不可重复读")]),s._v("和"),t("code",[s._v("幻读")]),s._v("皆可避免，性能较低")]),s._v(" "),t("h2",{attrs:{id:"视图-用的少"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图-用的少"}},[s._v("#")]),s._v(" 视图(用的少)")]),s._v(" "),t("p",[s._v("通过普通表"),t("strong",[s._v("动态")]),s._v("生成，可以理解成"),t("strong",[s._v("临时虚拟")]),s._v("表，和普通表一样使用。用的少，换个数据库需要重新生成")]),s._v(" "),t("h3",{attrs:{id:"创建视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建视图"}},[s._v("#")]),s._v(" 创建视图")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE VIEW 视图名 AS sql语句;\n")])])]),t("p",[s._v("举例:将查询gpa>3.5的用户的大体情况封装成视图，取名为v1")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" v1 \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" question_practice_detail "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" device_id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"查看视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看视图"}},[s._v("#")]),s._v(" 查看视图")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DESC 视图名;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"修改视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改视图"}},[s._v("#")]),s._v(" 修改视图")]),s._v(" "),t("h4",{attrs:{id:"方式一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),t("p",[s._v("语法意为若存在视图，则替换掉，反之创建")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CREATE OR REPLACE VIEW 视图名 AS sql语句;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("OR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REPLACE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" v1 \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" gpa "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),t("p",[s._v("使用时将v1当成普通表使用即可,修改视图数据会更新表的数据。")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" v1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6321")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'四川大学'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("注意以下情况不能修改视图数据(修改视图数据基本没什么应用场景)")]),s._v(" "),t("ul",[t("li",[s._v("包含"),t("code",[s._v("分组函数")]),s._v("，"),t("code",[s._v("DISTINCT")]),s._v(", "),t("code",[s._v("GROUP BY")]),s._v(", "),t("code",[s._v("HAVING")]),s._v(", "),t("code",[s._v("UNION")]),s._v("关键字的sql语句")]),s._v(" "),t("li",[s._v("常量视图；"),t("code",[s._v("SELECT")]),s._v("包含子查询")]),s._v(" "),t("li",[t("code",[s._v("JOIN")])]),s._v(" "),t("li",[t("code",[s._v("FROM")]),s._v("一个不能更新的视图")]),s._v(" "),t("li",[t("code",[s._v("WHERE")]),s._v("子句的子查询引用了"),t("code",[s._v("FROM")]),s._v("子句中的表")])]),s._v(" "),t("h4",{attrs:{id:"方式二-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式二-2"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ALTER VIEW 视图名 AS sql语句;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" v1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" gender "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'male'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"删除视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除视图"}},[s._v("#")]),s._v(" 删除视图")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP VIEW 视图名1, 视图名2, ..., 视图名n;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VIEW")]),s._v(" v1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h2",{attrs:{id:"锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#锁"}},[s._v("#")]),s._v(" 锁")]),s._v(" "),t("p",[s._v("常用的简单分类:从粒度来分，分别为"),t("code",[s._v("表锁")]),s._v("和"),t("code",[s._v("行锁")]),s._v("；从类型来分，分为"),t("code",[s._v("读锁")]),s._v("和"),t("code",[s._v("写锁")]),s._v("。")]),s._v(" "),t("p",[s._v("使用命令行学习(多连接)")]),s._v(" "),t("h3",{attrs:{id:"表锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表锁"}},[s._v("#")]),s._v(" 表锁")]),s._v(" "),t("h3",{attrs:{id:"添加表锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加表锁"}},[s._v("#")]),s._v(" 添加表锁")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("LOCK TABLE 表名 READ|WRITE;\n")])])]),t("p",[t("code",[s._v("READ")]),s._v("表示"),t("code",[s._v("读锁")]),s._v("，"),t("code",[s._v("WRITE")]),s._v("表示"),t("code",[s._v("写锁")])]),s._v(" "),t("p",[s._v("举例：给表"),t("code",[s._v("user_profile")]),s._v("加一把"),t("code",[s._v("读锁")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("READ")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v("A连接对表添加了"),t("code",[s._v("读锁")]),s._v(",A连接可以读操作，但不可以写操作； B连接也可以读操作，但写操作会被阻塞，直到A连接删除表锁。简而来说：大家都可以读，大家都不可以写。")]),s._v(" "),t("p",[s._v("举例：给表"),t("code",[s._v("user_profile")]),s._v("加一把"),t("code",[s._v("写锁")])]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WRITE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v("A连接对表添加了"),t("code",[s._v("写锁")]),s._v(",A连接可以读操作，也可以写操作； B连接读写操作均不允许，直到A连接删除表锁。简单来说：只有我可以读写，其他人都不可以。")]),s._v(" "),t("h3",{attrs:{id:"删除表锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除表锁"}},[s._v("#")]),s._v(" 删除表锁")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNLOCK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"行锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行锁"}},[s._v("#")]),s._v(" 行锁")]),s._v(" "),t("h3",{attrs:{id:"读锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#读锁"}},[s._v("#")]),s._v(" 读锁")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT ... FROM T1  LOCK IN SHARE MODE\n")])])]),t("p",[s._v("举例:")]),s._v(" "),t("p",[s._v("A事务")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" autocommit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LOCK")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHARE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MODE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" autocommit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("B事务(须在A事务"),t("code",[s._v("COMMIT")]),s._v("或"),t("code",[s._v("ROLLBACK")]),s._v("之前执行)")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v("A事务对行添加了"),t("code",[s._v("读锁")]),s._v(",A事务可以读操作，也可以写操作； B事务可以读操作，但写操作会被阻塞，直到A事务删除行锁。")]),s._v(" "),t("h3",{attrs:{id:"写锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写锁"}},[s._v("#")]),s._v(" 写锁")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT ... FROM T1  FOR UPDATE\n")])])]),t("p",[s._v("举例:\nA事务")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" autocommit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("START")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TRANSACTION")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COMMIT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" autocommit "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[s._v("B事务(须在A事务"),t("code",[s._v("COMMIT")]),s._v("或"),t("code",[s._v("ROLLBACK")]),s._v("之前执行)")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" user_profile "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("strong",[s._v("注意")]),s._v("A事务对行添加了"),t("code",[s._v("写锁")]),s._v(",A事务可以读操作，也可以写操作； B事务可以读操作，但写操作会被阻塞，直到A事务删除行锁。经测试，"),t("code",[s._v("读锁")]),s._v("和"),t("code",[s._v("写锁")]),s._v("效果居然一致")]),s._v(" "),t("h2",{attrs:{id:"变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[s._v("#")]),s._v(" 变量")]),s._v(" "),t("h3",{attrs:{id:"查看所有"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看所有"}},[s._v("#")]),s._v(" 查看所有")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW GLOBAL|[SESSION] VARIABLES\n")])])]),t("p",[t("code",[s._v("GLOBAL")]),s._v("查看全局变量，"),t("code",[s._v("SESSION")]),s._v("查看会话变量\n举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SESSION")]),s._v(" VARIABLES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" VARIABLES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GLOBAL")]),s._v(" VARIABLES "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'auto%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"查看具体"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看具体"}},[s._v("#")]),s._v(" 查看具体")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT @@global|[SESSION].系统变量名;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.binlog_cache_size")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"赋值变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#赋值变量"}},[s._v("#")]),s._v(" 赋值变量")]),s._v(" "),t("p",[s._v("方式一")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET GLOBAL|[SESSION] 系统变量名 = 值;\n")])])]),t("p",[s._v("方式二")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET @@global|[SESSION].系统变量名 = 值;\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.autocommit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.autocommit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" @"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@global.autocommit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"自定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义变量"}},[s._v("#")]),s._v(" 自定义变量")]),s._v(" "),t("h4",{attrs:{id:"用户变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户变量"}},[s._v("#")]),s._v(" 用户变量")]),s._v(" "),t("p",[s._v("针对当前会话(连接)有效")]),s._v(" "),t("h5",{attrs:{id:"声明-赋值用户变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#声明-赋值用户变量"}},[s._v("#")]),s._v(" 声明/赋值用户变量")]),s._v(" "),t("p",[s._v("方式一")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET @用户变量名 = 值;\n")])])]),t("p",[s._v("方式二")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET @用户变量名 := 值;\n")])])]),t("p",[s._v("方式一")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT @用户变量名 := 值;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@my_var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("233")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h5",{attrs:{id:"查询用户变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询用户变量"}},[s._v("#")]),s._v(" 查询用户变量")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT @用户变量名;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@my_var")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"局部变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#局部变量"}},[s._v("#")]),s._v(" 局部变量")]),s._v(" "),t("p",[s._v("作用域: 仅仅在定义它的"),t("code",[s._v("BEGIN")]),s._v("和"),t("code",[s._v("END")]),s._v("中有效。")]),s._v(" "),t("p",[t("strong",[s._v("注意")]),s._v("声明局部变量的语句必须放在"),t("code",[s._v("BEGIN")]),s._v("和"),t("code",[s._v("END")]),s._v("中的开头")]),s._v(" "),t("h5",{attrs:{id:"声明局部变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#声明局部变量"}},[s._v("#")]),s._v(" 声明局部变量")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DECLARE 局部变量名 类型;\nDECLARE 局部变量名 类型 DEFAULT 值;\n")])])]),t("h5",{attrs:{id:"赋值局部变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#赋值局部变量"}},[s._v("#")]),s._v(" 赋值局部变量")]),s._v(" "),t("p",[s._v("方式一")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET 局部变量名 = 值;\n")])])]),t("p",[s._v("方式二")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SET 局部变量名 := 值;\n")])])]),t("p",[s._v("方式三")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT @局部变量名 := 值;\n")])])]),t("h5",{attrs:{id:"查询局部变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询局部变量"}},[s._v("#")]),s._v(" 查询局部变量")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SELECT 局部变量名;\n")])])]),t("h2",{attrs:{id:"存储过程和函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储过程和函数"}},[s._v("#")]),s._v(" 存储过程和函数")]),s._v(" "),t("p",[s._v("mysql的存储过程和函数可以理解成主流编程语言的函数。相比于存储过程，函数"),t("strong",[s._v("只能")]),s._v("有一个返回值")]),s._v(" "),t("h3",{attrs:{id:"存储过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[s._v("#")]),s._v(" 存储过程")]),s._v(" "),t("p",[s._v("一组预先编译好的sql语句的集合，理解成批处理语句")]),s._v(" "),t("h4",{attrs:{id:"创建-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建-3"}},[s._v("#")]),s._v(" 创建")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DELIMITER 结束标志\nCREATE PROCEDURE 存储过程名(参数列表)\nBEGIN\n一组sql语句\nEND 结束标志\n")])])]),t("p",[s._v("参数包括三部分")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("参数模式 参数名 参数类型\n")])])]),t("p",[s._v("参数模式有:")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("IN")]),s._v(" 表示传入参数")]),s._v(" "),t("li",[t("code",[s._v("OUT")]),s._v(" 表示返回值")]),s._v(" "),t("li",[t("code",[s._v("INOUT")]),s._v(" 既可以是传入参数 也可以是 返回值")])]),s._v(" "),t("p",[s._v("举例:")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v("\n")])])]),t("h4",{attrs:{id:"调用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调用"}},[s._v("#")]),s._v(" 调用")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CALL 存储过程名(参数列表);\n")])])]),t("h4",{attrs:{id:"删除-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除-3"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DROP PROCEDURE IF EXISTS 存储过程名;\n")])])]),t("p",[s._v("举例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h4",{attrs:{id:"案例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例"}},[s._v("#")]),s._v(" 案例")]),s._v(" "),t("h5",{attrs:{id:"无参"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无参"}},[s._v("#")]),s._v(" 无参")]),s._v(" "),t("p",[s._v("插入数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tNAME "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tage "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tseat "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangsan'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lisi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"seat"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhangsan"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"18"')]),s._v("\t\\N\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lisi"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t\\N\n")])])]),t("h5",{attrs:{id:"in模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#in模式"}},[s._v("#")]),s._v(" IN模式")]),s._v(" "),t("p",[s._v("根据id修改name")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tNAME "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tage "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tseat "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'zhangsan'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'lisi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" inid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" inid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'王五'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"seat"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"王五"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"18"')]),s._v("\t\\N\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lisi"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"28"')]),s._v("\t\\N\n")])])]),t("h5",{attrs:{id:"out模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#out模式"}},[s._v("#")]),s._v(" OUT模式")]),s._v(" "),t("p",[s._v("根据id返回name")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OUT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myname")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myname")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@myname"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"王五"')]),s._v("\n")])])]),t("h5",{attrs:{id:"inout模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#inout模式"}},[s._v("#")]),s._v(" INOUT模式")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INOUT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INOUT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myid")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" myfun"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myid")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myname")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myid")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@myname")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@myid"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@myname"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"100"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"王五"')]),s._v("\n")])])]),t("h3",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),t("p",[s._v("函数更符合传统编程语言直觉。\n语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("DELIMITER 结束标志\nCREATE FUNCTION 函数名(参数列表) RETURNS 返回类型\nBEGIN\n函数体\nRETURN 返回值\nEND 结束标志\n")])])]),t("p",[s._v("这里参数包含"),t("code",[s._v("参数名")]),s._v("和"),t("code",[s._v("参数类型")]),s._v(",调用时使用"),t("code",[s._v("SELECT 函数名();")]),s._v("使用"),t("code",[s._v("DROP FUNCTION 函数名;")]),s._v("删除函数")]),s._v(" "),t("p",[s._v("举例:根据id返回name")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" NAME "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" foo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo(1)"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"王五"')]),s._v("\n")])])]),t("h2",{attrs:{id:"循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#循环"}},[s._v("#")]),s._v(" 循环")]),s._v(" "),t("p",[s._v("循环控制")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("ITERATE")]),s._v(" 类比主流编程语言"),t("code",[s._v("continue")])]),s._v(" "),t("li",[t("code",[s._v("LEAVE")]),s._v(" 类比主流编程语言"),t("code",[s._v("break")])])]),s._v(" "),t("h3",{attrs:{id:"while循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#while循环"}},[s._v("#")]),s._v(" WHILE循环")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[标签:] WHILE 循环条件 DO\n\t循环体;\nEND WHILE [标签];\n")])])]),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tNAME "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tage "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tseat "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UNIQUE")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" pro_while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $ \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" pro_while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IN")]),s._v(" num "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v(" \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" _max "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\tmy_while: "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHILE")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" num "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DO")]),s._v(" \n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" _max "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("THEN")]),s._v(" \n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEAVE")]),s._v(" my_while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" my_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'第'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'条数据'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" FLOOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RAND"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHILE")]),s._v(" my_while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $  \n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" pro_while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" my_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"loop循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loop循环"}},[s._v("#")]),s._v(" LOOP循环")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[标签:] LOOP 循环条件 \n\t循环体;\nEND LOOP [标签];\n")])])]),t("h3",{attrs:{id:"repeat循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#repeat循环"}},[s._v("#")]),s._v(" REPEAT循环")]),s._v(" "),t("p",[s._v("语法")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[标签:] REPEAT \n\t循环体;\nUNTIL 结束条件;\nEND REPEAT [标签];\n")])])]),t("h2",{attrs:{id:"递归查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#递归查询"}},[s._v("#")]),s._v(" 递归查询")]),s._v(" "),t("p",[t("code",[s._v("递归查询")]),s._v("本该放到"),t("code",[s._v("循环")]),s._v("里，不过我学习"),t("code",[s._v("循环")]),s._v("的初衷就是为了递归查询，所以并列"),t("code",[s._v("循环")]),s._v("单开一节。")]),s._v(" "),t("h3",{attrs:{id:"功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#功能"}},[s._v("#")]),s._v(" 功能")]),s._v(" "),t("p",[s._v("传入一个"),t("code",[s._v("id")]),s._v("，查询到其所有子孙节点")]),s._v(" "),t("h3",{attrs:{id:"创建测试数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建测试数据"}},[s._v("#")]),s._v(" 创建测试数据")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" tree_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token identifier"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")]),s._v("tree_table"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIMARY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("KEY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\tpid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("p",[t("code",[s._v("pid")]),s._v("指向父级"),t("code",[s._v("id")]),s._v(",没有父级则"),t("code",[s._v("pid")]),s._v("为"),t("code",[s._v("null")])]),s._v(" "),t("h3",{attrs:{id:"思路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#思路"}},[s._v("#")]),s._v(" 思路")]),s._v(" "),t("ul",[t("li",[s._v("定义变量"),t("code",[s._v("ids")]),s._v("存放所有子孙节点id(将id以"),t("code",[s._v(",")]),s._v("拼接成字符串)")]),s._v(" "),t("li",[s._v("定义变量"),t("code",[s._v("tempids")]),s._v("存放下次需要查询节点id(将id以"),t("code",[s._v(",")]),s._v("拼接成字符串)")]),s._v(" "),t("li",[s._v("将传入"),t("code",[s._v("id")]),s._v("转成字符串并复制给"),t("code",[s._v("tempids")]),s._v(",然后开始循环")]),s._v(" "),t("li",[s._v("每次循环时，先将"),t("code",[s._v("tempids")]),s._v("的内容放到"),t("code",[s._v("ids")]),s._v("，然后查询表中所有"),t("code",[s._v("id")]),s._v("被包含在"),t("code",[s._v("tempids")]),s._v("中的数据(使用函数"),t("code",[s._v("FIND_IN_SET")]),s._v(",该函数功能是查询子串在主串中的位置，小于等于0就是找不到),再将查询到的数据的"),t("code",[s._v("id")]),s._v("拼接起来替换"),t("code",[s._v("tempids")]),s._v("的值，结束循环的条件是"),t("code",[s._v("tempids")]),s._v("为"),t("code",[s._v("null")])])]),s._v(" "),t("h3",{attrs:{id:"实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[s._v("#")]),s._v(" 实现")]),s._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" get_children_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" $\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FUNCTION")]),s._v(" get_children_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myid "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURNS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" ids "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DECLARE")]),s._v(" tempids "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VARCHAR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" tempids "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("myid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\tmy_while: "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHILE")]),s._v(" tempids "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("IS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("NULL")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DO")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" ids "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" CONCAT_WS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("','")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" tempids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" GROUP_CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" tempids "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" FIND_IN_SET"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CONCAT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("tempids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHILE")]),s._v(" my_while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RETURN")]),s._v(" ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("END")]),s._v(" $\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" tree_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" FIND_IN_SET"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" get_children_tag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("div",{staticClass:"language-xls extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xls"}},[t("code",[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pid"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20000"')]),s._v("\t\\N\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21000"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21100"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21200"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"21000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22000"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22100"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22200"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22000"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22300"')]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22000"')]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);