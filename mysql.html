<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>月窗散记</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/docs/imgs/head.jpg">
    <meta name="description" content="闲暇记录学习代码时的点滴历程">
    <meta name="keywords" content="月窗散记,笔记,开发">
    
    <link rel="preload" href="/docs/assets/css/0.styles.5d5ec1c5.css" as="style"><link rel="preload" href="/docs/assets/js/app.e9bf7062.js" as="script"><link rel="preload" href="/docs/assets/js/2.21081ec6.js" as="script"><link rel="preload" href="/docs/assets/js/1.d6a5e65b.js" as="script"><link rel="preload" href="/docs/assets/js/57.157d15a4.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.9b4db267.js"><link rel="prefetch" href="/docs/assets/js/100.e311d782.js"><link rel="prefetch" href="/docs/assets/js/101.7499b16d.js"><link rel="prefetch" href="/docs/assets/js/102.f7d7d9fc.js"><link rel="prefetch" href="/docs/assets/js/103.a41cb2e9.js"><link rel="prefetch" href="/docs/assets/js/104.ce259601.js"><link rel="prefetch" href="/docs/assets/js/105.c940ba59.js"><link rel="prefetch" href="/docs/assets/js/106.7c947769.js"><link rel="prefetch" href="/docs/assets/js/107.1a04a9d6.js"><link rel="prefetch" href="/docs/assets/js/108.30de9c83.js"><link rel="prefetch" href="/docs/assets/js/109.22a243b0.js"><link rel="prefetch" href="/docs/assets/js/11.690021fa.js"><link rel="prefetch" href="/docs/assets/js/110.d198aa34.js"><link rel="prefetch" href="/docs/assets/js/111.dcfc4fa5.js"><link rel="prefetch" href="/docs/assets/js/112.865ed45e.js"><link rel="prefetch" href="/docs/assets/js/113.61279f07.js"><link rel="prefetch" href="/docs/assets/js/114.5250c33f.js"><link rel="prefetch" href="/docs/assets/js/115.326839b0.js"><link rel="prefetch" href="/docs/assets/js/116.b1d4cbbb.js"><link rel="prefetch" href="/docs/assets/js/117.1acfbebc.js"><link rel="prefetch" href="/docs/assets/js/118.93f13cdc.js"><link rel="prefetch" href="/docs/assets/js/119.5a980eba.js"><link rel="prefetch" href="/docs/assets/js/12.6fcc671a.js"><link rel="prefetch" href="/docs/assets/js/120.fbd81856.js"><link rel="prefetch" href="/docs/assets/js/121.1b960932.js"><link rel="prefetch" href="/docs/assets/js/122.b29fb009.js"><link rel="prefetch" href="/docs/assets/js/123.63cbd0d2.js"><link rel="prefetch" href="/docs/assets/js/124.3f1d290b.js"><link rel="prefetch" href="/docs/assets/js/125.59469aaf.js"><link rel="prefetch" href="/docs/assets/js/126.b09e4266.js"><link rel="prefetch" href="/docs/assets/js/127.fc7fda67.js"><link rel="prefetch" href="/docs/assets/js/128.01e1c038.js"><link rel="prefetch" href="/docs/assets/js/129.df69bdbf.js"><link rel="prefetch" href="/docs/assets/js/13.c7a0c6d5.js"><link rel="prefetch" href="/docs/assets/js/14.2b8b9240.js"><link rel="prefetch" href="/docs/assets/js/15.20728d29.js"><link rel="prefetch" href="/docs/assets/js/16.5321a22c.js"><link rel="prefetch" href="/docs/assets/js/17.60ed3f63.js"><link rel="prefetch" href="/docs/assets/js/18.cb38b1ad.js"><link rel="prefetch" href="/docs/assets/js/19.b58682e0.js"><link rel="prefetch" href="/docs/assets/js/20.08fed5a8.js"><link rel="prefetch" href="/docs/assets/js/21.b6e62902.js"><link rel="prefetch" href="/docs/assets/js/22.24c69e91.js"><link rel="prefetch" href="/docs/assets/js/23.921f8a74.js"><link rel="prefetch" href="/docs/assets/js/24.f2152ebf.js"><link rel="prefetch" href="/docs/assets/js/25.55cb6df7.js"><link rel="prefetch" href="/docs/assets/js/26.ba83a3fb.js"><link rel="prefetch" href="/docs/assets/js/27.174b1678.js"><link rel="prefetch" href="/docs/assets/js/28.309b00b4.js"><link rel="prefetch" href="/docs/assets/js/29.b35680f8.js"><link rel="prefetch" href="/docs/assets/js/3.04f428b9.js"><link rel="prefetch" href="/docs/assets/js/30.6aaabbcf.js"><link rel="prefetch" href="/docs/assets/js/31.cc5cffb7.js"><link rel="prefetch" href="/docs/assets/js/32.ad41d324.js"><link rel="prefetch" href="/docs/assets/js/33.1140989d.js"><link rel="prefetch" href="/docs/assets/js/34.ff497298.js"><link rel="prefetch" href="/docs/assets/js/35.4d523d75.js"><link rel="prefetch" href="/docs/assets/js/36.1c20b66a.js"><link rel="prefetch" href="/docs/assets/js/37.2da1705f.js"><link rel="prefetch" href="/docs/assets/js/38.0fe1c3f1.js"><link rel="prefetch" href="/docs/assets/js/39.1f6a5c7b.js"><link rel="prefetch" href="/docs/assets/js/4.1ce2464c.js"><link rel="prefetch" href="/docs/assets/js/40.eddd46af.js"><link rel="prefetch" href="/docs/assets/js/41.42a73812.js"><link rel="prefetch" href="/docs/assets/js/42.43955417.js"><link rel="prefetch" href="/docs/assets/js/43.bd3ec667.js"><link rel="prefetch" href="/docs/assets/js/44.62cbaa5b.js"><link rel="prefetch" href="/docs/assets/js/45.233edbc3.js"><link rel="prefetch" href="/docs/assets/js/46.aafdef08.js"><link rel="prefetch" href="/docs/assets/js/47.595fd768.js"><link rel="prefetch" href="/docs/assets/js/48.a6540ad3.js"><link rel="prefetch" href="/docs/assets/js/49.726d0669.js"><link rel="prefetch" href="/docs/assets/js/5.8739eddd.js"><link rel="prefetch" href="/docs/assets/js/50.304f5c8a.js"><link rel="prefetch" href="/docs/assets/js/51.a24e9848.js"><link rel="prefetch" href="/docs/assets/js/52.e2dd0be4.js"><link rel="prefetch" href="/docs/assets/js/53.4f656f8b.js"><link rel="prefetch" href="/docs/assets/js/54.773afa1e.js"><link rel="prefetch" href="/docs/assets/js/55.b4b04462.js"><link rel="prefetch" href="/docs/assets/js/56.36eec085.js"><link rel="prefetch" href="/docs/assets/js/58.e0c6d305.js"><link rel="prefetch" href="/docs/assets/js/59.33bac785.js"><link rel="prefetch" href="/docs/assets/js/6.05d88696.js"><link rel="prefetch" href="/docs/assets/js/60.fbb2bc1c.js"><link rel="prefetch" href="/docs/assets/js/61.31e6b365.js"><link rel="prefetch" href="/docs/assets/js/62.b21dbcb9.js"><link rel="prefetch" href="/docs/assets/js/63.d300ff10.js"><link rel="prefetch" href="/docs/assets/js/64.69f65722.js"><link rel="prefetch" href="/docs/assets/js/65.8f8d018d.js"><link rel="prefetch" href="/docs/assets/js/66.f335df08.js"><link rel="prefetch" href="/docs/assets/js/67.df717949.js"><link rel="prefetch" href="/docs/assets/js/68.11cf70a1.js"><link rel="prefetch" href="/docs/assets/js/69.cdd6ce02.js"><link rel="prefetch" href="/docs/assets/js/7.97313c33.js"><link rel="prefetch" href="/docs/assets/js/70.166b14ea.js"><link rel="prefetch" href="/docs/assets/js/71.acb0758d.js"><link rel="prefetch" href="/docs/assets/js/72.82990d4e.js"><link rel="prefetch" href="/docs/assets/js/73.53ae9974.js"><link rel="prefetch" href="/docs/assets/js/74.81e7b0e1.js"><link rel="prefetch" href="/docs/assets/js/75.a7db37d2.js"><link rel="prefetch" href="/docs/assets/js/76.2734cbb8.js"><link rel="prefetch" href="/docs/assets/js/77.a64ef896.js"><link rel="prefetch" href="/docs/assets/js/78.4c503dcb.js"><link rel="prefetch" href="/docs/assets/js/79.b0b40de1.js"><link rel="prefetch" href="/docs/assets/js/80.608970d9.js"><link rel="prefetch" href="/docs/assets/js/81.537f238c.js"><link rel="prefetch" href="/docs/assets/js/82.9e80b244.js"><link rel="prefetch" href="/docs/assets/js/83.21f21168.js"><link rel="prefetch" href="/docs/assets/js/84.8b2f4ce4.js"><link rel="prefetch" href="/docs/assets/js/85.b52f4b36.js"><link rel="prefetch" href="/docs/assets/js/86.625023d9.js"><link rel="prefetch" href="/docs/assets/js/87.96c0892d.js"><link rel="prefetch" href="/docs/assets/js/88.31271f14.js"><link rel="prefetch" href="/docs/assets/js/89.18d6c9a7.js"><link rel="prefetch" href="/docs/assets/js/90.e8c786af.js"><link rel="prefetch" href="/docs/assets/js/91.9d4e8723.js"><link rel="prefetch" href="/docs/assets/js/92.ae174bc0.js"><link rel="prefetch" href="/docs/assets/js/93.baaf9bc5.js"><link rel="prefetch" href="/docs/assets/js/94.0d885c47.js"><link rel="prefetch" href="/docs/assets/js/95.0d0b9732.js"><link rel="prefetch" href="/docs/assets/js/96.48dfb6f2.js"><link rel="prefetch" href="/docs/assets/js/97.1541b4e2.js"><link rel="prefetch" href="/docs/assets/js/98.728cf299.js"><link rel="prefetch" href="/docs/assets/js/99.791c7aa4.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.5a4296f1.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.5d5ec1c5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><img src="/docs/imgs/head.jpg" alt="月窗散记" class="logo"> <span class="site-name can-hide">月窗散记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/" class="nav-link">
  Home
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/wujie.html" class="sidebar-link">wujie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/wujie.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/wujie.html#安装依赖" class="sidebar-link">安装依赖</a></li><li class="sidebar-sub-header"><a href="/docs/wujie.html#子模块a" class="sidebar-link">子模块A</a></li><li class="sidebar-sub-header"><a href="/docs/wujie.html#子模块b" class="sidebar-link">子模块B</a></li><li class="sidebar-sub-header"><a href="/docs/wujie.html#基座" class="sidebar-link">基座</a></li><li class="sidebar-sub-header"><a href="/docs/wujie.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/docs/实现Promise.html" class="sidebar-link">实现Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/实现Promise.html#分析" class="sidebar-link">分析</a></li><li class="sidebar-sub-header"><a href="/docs/实现Promise.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/坐标拾取组件封装.html" class="sidebar-link">坐标拾取组件封装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/坐标拾取组件封装.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/高德地图轨迹回放与滑块控制.html" class="sidebar-link">高德地图轨迹回放与滑块控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/高德地图轨迹回放与滑块控制.html#问题描述" class="sidebar-link">问题描述</a></li><li class="sidebar-sub-header"><a href="/docs/高德地图轨迹回放与滑块控制.html#实现代码" class="sidebar-link">实现代码</a></li></ul></li><li><a href="/docs/高德地图2.0点聚合bug及处理办法.html" class="sidebar-link">高德地图2.0点聚合bug及处理办法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/高德地图2.0点聚合bug及处理办法.html#问题描述" class="sidebar-link">问题描述</a></li><li class="sidebar-sub-header"><a href="/docs/高德地图2.0点聚合bug及处理办法.html#解决思路" class="sidebar-link">解决思路</a></li><li class="sidebar-sub-header"><a href="/docs/高德地图2.0点聚合bug及处理办法.html#代码实现" class="sidebar-link">代码实现</a></li></ul></li><li><a href="/docs/SharedWorker.html" class="sidebar-link">SharedWorker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/SharedWorker.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/SharedWorker.html#编写worker" class="sidebar-link">编写worker</a></li><li class="sidebar-sub-header"><a href="/docs/SharedWorker.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/docs/SharedWorker.html#备注" class="sidebar-link">备注</a></li></ul></li><li><a href="/docs/分时函数.html" class="sidebar-link">分时函数</a></li><li><a href="/docs/大文件分片上传.html" class="sidebar-link">大文件分片上传</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/大文件分片上传.html#实现思路" class="sidebar-link">实现思路</a></li><li class="sidebar-sub-header"><a href="/docs/大文件分片上传.html#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header"><a href="/docs/大文件分片上传.html#启动" class="sidebar-link">启动</a></li></ul></li><li><a href="/docs/sse.html" class="sidebar-link">SSE</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/sse.html#后台" class="sidebar-link">后台</a></li><li class="sidebar-sub-header"><a href="/docs/sse.html#前端" class="sidebar-link">前端</a></li><li class="sidebar-sub-header"><a href="/docs/sse.html#运行" class="sidebar-link">运行</a></li><li class="sidebar-sub-header"><a href="/docs/sse.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/docs/PWA.html" class="sidebar-link">PWA</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/PWA.html#配置-manifest-json" class="sidebar-link">配置 manifest.json</a></li><li class="sidebar-sub-header"><a href="/docs/PWA.html#编写worker" class="sidebar-link">编写worker</a></li><li class="sidebar-sub-header"><a href="/docs/PWA.html#初始化样式" class="sidebar-link">初始化样式</a></li><li class="sidebar-sub-header"><a href="/docs/PWA.html#初始化测试数据" class="sidebar-link">初始化测试数据</a></li><li class="sidebar-sub-header"><a href="/docs/PWA.html#配置-index-html" class="sidebar-link">配置 index.html</a></li></ul></li><li><a href="/docs/请求工具函数封装.html" class="sidebar-link">请求工具函数封装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/请求工具函数封装.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/访问器处理双向影响数据.html" class="sidebar-link">访问器处理双向影响数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/访问器处理双向影响数据.html#代码" class="sidebar-link">代码</a></li></ul></li><li><a href="/docs/自定义日期组件.html" class="sidebar-link">自定义日期组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/自定义日期组件.html#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header"><a href="/docs/自定义日期组件.html#效果" class="sidebar-link">效果</a></li></ul></li><li><a href="/docs/http缓存.html" class="sidebar-link">http缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/http缓存.html#强缓存" class="sidebar-link">强缓存</a></li><li class="sidebar-sub-header"><a href="/docs/http缓存.html#协商缓存" class="sidebar-link">协商缓存</a></li><li class="sidebar-sub-header"><a href="/docs/http缓存.html#代码" class="sidebar-link">代码</a></li></ul></li><li><a href="/docs/深拷贝、防抖和节流.html" class="sidebar-link">深拷贝、防抖和节流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/深拷贝、防抖和节流.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/docs/深拷贝、防抖和节流.html#防抖" class="sidebar-link">防抖</a></li><li class="sidebar-sub-header"><a href="/docs/深拷贝、防抖和节流.html#节流" class="sidebar-link">节流</a></li></ul></li><li><a href="/docs/pdf.js+带线条标注.html" class="sidebar-link">pdf.js+带线条标注</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/pdf.js+带线条标注.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/pdf.js+带线条标注.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/动态表单设计方案.html" class="sidebar-link">动态表单设计方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/动态表单设计方案.html#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header"><a href="/docs/动态表单设计方案.html#效果" class="sidebar-link">效果</a></li></ul></li><li><a href="/docs/cadvisor+prometheus+grafana监控容器.html" class="sidebar-link">cadvisor+prometheus+grafana监控容器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/cadvisor+prometheus+grafana监控容器.html#部署" class="sidebar-link">部署</a></li><li class="sidebar-sub-header"><a href="/docs/cadvisor+prometheus+grafana监控容器.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/docs/cadvisor+prometheus+grafana监控容器.html#效果" class="sidebar-link">效果</a></li></ul></li><li><a href="/docs/VScode实现远程免密登录.html" class="sidebar-link">VScode实现远程免密登录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/VScode实现远程免密登录.html#客户端生成公钥-若没有" class="sidebar-link">客户端生成公钥(若没有)</a></li><li class="sidebar-sub-header"><a href="/docs/VScode实现远程免密登录.html#将客户端的公钥放到服务器" class="sidebar-link">将客户端的公钥放到服务器</a></li><li class="sidebar-sub-header"><a href="/docs/VScode实现远程免密登录.html#配置权限" class="sidebar-link">配置权限</a></li><li class="sidebar-sub-header"><a href="/docs/VScode实现远程免密登录.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/docs/vue3单元测试.html" class="sidebar-link">vue3单元测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/vue3单元测试.html#初始化项目" class="sidebar-link">初始化项目</a></li><li class="sidebar-sub-header"><a href="/docs/vue3单元测试.html#测试函数" class="sidebar-link">测试函数</a></li><li class="sidebar-sub-header"><a href="/docs/vue3单元测试.html#测试vue组件" class="sidebar-link">测试vue组件</a></li><li class="sidebar-sub-header"><a href="/docs/vue3单元测试.html#交互测试-事件测试" class="sidebar-link">交互测试&amp;事件测试</a></li><li class="sidebar-sub-header"><a href="/docs/vue3单元测试.html#请求-注入" class="sidebar-link">请求&amp;注入</a></li><li class="sidebar-sub-header"><a href="/docs/vue3单元测试.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/docs/THREE.js渲染地图.html" class="sidebar-link">THREE.js渲染地图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/THREE.js渲染地图.html#效果演示" class="sidebar-link">效果演示</a></li><li class="sidebar-sub-header"><a href="/docs/THREE.js渲染地图.html#前置说明" class="sidebar-link">前置说明</a></li><li class="sidebar-sub-header"><a href="/docs/THREE.js渲染地图.html#定义类型" class="sidebar-link">定义类型</a></li><li class="sidebar-sub-header"><a href="/docs/THREE.js渲染地图.html#实现思路" class="sidebar-link">实现思路</a></li><li class="sidebar-sub-header"><a href="/docs/THREE.js渲染地图.html#实现代码" class="sidebar-link">实现代码</a></li></ul></li><li><a href="/docs/使用视口尺寸和计算属性做响应式开发.html" class="sidebar-link">使用视口尺寸和计算属性做响应式开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/使用视口尺寸和计算属性做响应式开发.html#定义等分大小" class="sidebar-link">定义等分大小</a></li></ul></li><li><a href="/docs/使用indexDB缓存THREE.js模型.html" class="sidebar-link">使用indexDB缓存THREE.js模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/使用indexDB缓存THREE.js模型.html#封装indexdb" class="sidebar-link">封装indexDB</a></li><li class="sidebar-sub-header"><a href="/docs/使用indexDB缓存THREE.js模型.html#调用" class="sidebar-link">调用</a></li></ul></li><li><a href="/docs/THREE笔记.html" class="sidebar-link">THREE笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#纹理" class="sidebar-link">纹理</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#_3d字体" class="sidebar-link">3D字体</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#光源辅助" class="sidebar-link">光源辅助</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#阴影" class="sidebar-link">阴影</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#raycaster射线拾取" class="sidebar-link">Raycaster射线拾取</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#模型加载" class="sidebar-link">模型加载</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#blender" class="sidebar-link">blender</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#图像优化" class="sidebar-link">图像优化</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#顶点着色器" class="sidebar-link">顶点着色器</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#three钩子" class="sidebar-link">THREE钩子</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#后期处理" class="sidebar-link">后期处理</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#性能调优" class="sidebar-link">性能调优</a></li><li class="sidebar-sub-header"><a href="/docs/THREE笔记.html#向量" class="sidebar-link">向量</a></li></ul></li><li><a href="/docs/vue3响应式与组件渲染.html" class="sidebar-link">vue3响应式与组件渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/vue3响应式与组件渲染.html#初始化环境" class="sidebar-link">初始化环境</a></li><li class="sidebar-sub-header"><a href="/docs/vue3响应式与组件渲染.html#工具库函数编写" class="sidebar-link">工具库函数编写</a></li><li class="sidebar-sub-header"><a href="/docs/vue3响应式与组件渲染.html#依赖收集与触发" class="sidebar-link">依赖收集与触发</a></li><li class="sidebar-sub-header"><a href="/docs/vue3响应式与组件渲染.html#reactive和computed" class="sidebar-link">reactive和computed</a></li><li class="sidebar-sub-header"><a href="/docs/vue3响应式与组件渲染.html#组件渲染" class="sidebar-link">组件渲染</a></li></ul></li><li><a href="/docs/前端渲染大量数据方案.html" class="sidebar-link">前端渲染大量数据方案</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/前端渲染大量数据方案.html#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header"><a href="/docs/前端渲染大量数据方案.html#效果演示" class="sidebar-link">效果演示</a></li></ul></li><li><a href="/docs/yapi.html" class="sidebar-link">yapi</a></li><li><a href="/docs/递归转while.html" class="sidebar-link">递归转while</a></li><li><a href="/docs/实现promise.all方法.html" class="sidebar-link">实现promise.all方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/实现promise.all方法.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/实现promise.all方法.html#代码实现" class="sidebar-link">代码实现</a></li><li class="sidebar-sub-header"><a href="/docs/实现promise.all方法.html#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/docs/vue3+tsx+keepAlive.html" class="sidebar-link">vue3+tsx+keepAlive</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/vue3+tsx+keepAlive.html#路由定义" class="sidebar-link">路由定义</a></li><li class="sidebar-sub-header"><a href="/docs/vue3+tsx+keepAlive.html#组件keep-alive" class="sidebar-link">组件keep-alive</a></li></ul></li><li><a href="/docs/Vue3+Electron.html" class="sidebar-link">Vue3+Electron</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Vue3+Electron.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/docs/Vue3+Electron.html#运行" class="sidebar-link">运行</a></li><li class="sidebar-sub-header"><a href="/docs/Vue3+Electron.html#打包" class="sidebar-link">打包</a></li><li class="sidebar-sub-header"><a href="/docs/Vue3+Electron.html#报错" class="sidebar-link">报错</a></li><li class="sidebar-sub-header"><a href="/docs/Vue3+Electron.html#处理preload" class="sidebar-link">处理preload</a></li></ul></li><li><a href="/docs/ts重新设置类型.html" class="sidebar-link">ts重新设置类型</a></li><li><a href="/docs/ts指定key类型和其余任意key类型.html" class="sidebar-link">ts指定key类型和其余任意key类型</a></li><li><a href="/docs/ts将可选字段转化为必填字段.html" class="sidebar-link">ts将可选字段转化为必填字段</a></li><li><a href="/docs/ts定义必填属性，其余必须以指定开头为key.html" class="sidebar-link">ts定义必填属性，其余必须以指定开头为key</a></li><li><a href="/docs/skywalking.html" class="sidebar-link">skywalking</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/skywalking.html#创建挂载卷" class="sidebar-link">创建挂载卷</a></li><li class="sidebar-sub-header"><a href="/docs/skywalking.html#编写docker-compose-yml" class="sidebar-link">编写docker-compose.yml</a></li><li class="sidebar-sub-header"><a href="/docs/skywalking.html#nodejs使用" class="sidebar-link">nodejs使用</a></li></ul></li><li><a href="/docs/sass.html" class="sidebar-link">sass</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/sass.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#嵌套" class="sidebar-link">嵌套</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#混入" class="sidebar-link">混入</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#类型" class="sidebar-link">类型</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#interpolation" class="sidebar-link">Interpolation</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#if-else" class="sidebar-link">@if @else</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#for" class="sidebar-link">@for</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#each" class="sidebar-link">@each</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#while" class="sidebar-link">@while</a></li><li class="sidebar-sub-header"><a href="/docs/sass.html#function" class="sidebar-link">@function</a></li></ul></li><li><a href="/docs/rollup简要笔记.html" class="sidebar-link">rollup简要笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/rollup简要笔记.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/rollup简要笔记.html#修改tsconfig-json" class="sidebar-link">修改tsconfig.json</a></li><li class="sidebar-sub-header"><a href="/docs/rollup简要笔记.html#编写src-index-ts" class="sidebar-link">编写src/index.ts</a></li><li class="sidebar-sub-header"><a href="/docs/rollup简要笔记.html#编写rollup-config-js" class="sidebar-link">编写rollup.config.js</a></li><li class="sidebar-sub-header"><a href="/docs/rollup简要笔记.html#修改package-json" class="sidebar-link">修改package.json</a></li><li class="sidebar-sub-header"><a href="/docs/rollup简要笔记.html#打包" class="sidebar-link">打包</a></li></ul></li><li><a href="/docs/redis主从.html" class="sidebar-link">redis主从</a></li><li><a href="/docs/redis集群.html" class="sidebar-link">redis集群</a></li><li><a href="/docs/react+react-router-dom+redux.html" class="sidebar-link">react+react-router-dom+redux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/react+react-router-dom+redux.html#创建项目" class="sidebar-link">创建项目</a></li><li class="sidebar-sub-header"><a href="/docs/react+react-router-dom+redux.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/docs/react+react-router-dom+redux.html#导出具有ref的组件" class="sidebar-link">导出具有ref的组件</a></li><li class="sidebar-sub-header"><a href="/docs/react+react-router-dom+redux.html#redux" class="sidebar-link">redux</a></li><li class="sidebar-sub-header"><a href="/docs/react+react-router-dom+redux.html#antd" class="sidebar-link">antd</a></li></ul></li><li><a href="/docs/react-navtive.html" class="sidebar-link">react-navtive</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#版本信息" class="sidebar-link">版本信息</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#环境安装参考" class="sidebar-link">环境安装参考</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#安装jdk" class="sidebar-link">安装jdk</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#配置环境变量" class="sidebar-link">配置环境变量</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#安装-android-studio" class="sidebar-link">安装 Android Studio</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#创建项目" class="sidebar-link">创建项目</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#运行" class="sidebar-link">运行</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#调试" class="sidebar-link">调试</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#小技巧" class="sidebar-link">小技巧</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#真机调试" class="sidebar-link">真机调试</a></li><li class="sidebar-sub-header"><a href="/docs/react-navtive.html#错误处理" class="sidebar-link">错误处理</a></li></ul></li><li><a href="/docs/prometheus-docker.html" class="sidebar-link">prometheus-docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/prometheus-docker.html#prometheus主机-192-168-2-200" class="sidebar-link">prometheus主机（192.168.2.200）：</a></li><li class="sidebar-sub-header"><a href="/docs/prometheus-docker.html#被监控主机-192-168-2-201" class="sidebar-link">被监控主机（192.168.2.201）:</a></li><li class="sidebar-sub-header"><a href="/docs/prometheus-docker.html#使用" class="sidebar-link">使用</a></li></ul></li><li><a href="/docs/onlyoffice.html" class="sidebar-link">onlyoffice</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/onlyoffice.html#部署-onlyoffice" class="sidebar-link">部署 onlyoffice</a></li><li class="sidebar-sub-header"><a href="/docs/onlyoffice.html#后台" class="sidebar-link">后台</a></li><li class="sidebar-sub-header"><a href="/docs/onlyoffice.html#前端" class="sidebar-link">前端</a></li><li class="sidebar-sub-header"><a href="/docs/onlyoffice.html#效果" class="sidebar-link">效果</a></li></ul></li><li><a href="/docs/nuxt3笔记.html" class="sidebar-link">nuxt3笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#布局系统" class="sidebar-link">布局系统</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#组件" class="sidebar-link">组件</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#请求" class="sidebar-link">请求</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#动态请求" class="sidebar-link">动态请求</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#请求代理" class="sidebar-link">请求代理</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#中间件" class="sidebar-link">中间件</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#服务端中间件" class="sidebar-link">服务端中间件</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#状态管理-组合逻辑" class="sidebar-link">状态管理(组合逻辑)</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#utils" class="sidebar-link">utils</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#插件" class="sidebar-link">插件</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#sass" class="sidebar-link">sass</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#环境判断" class="sidebar-link">环境判断</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#运行时配置" class="sidebar-link">运行时配置</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#全局css注入" class="sidebar-link">全局css注入</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#使用阿里图标库" class="sidebar-link">使用阿里图标库</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#配置路径别名" class="sidebar-link">配置路径别名</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#pinia使用" class="sidebar-link">pinia使用</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#自定义指令" class="sidebar-link">自定义指令</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#装饰器的使用" class="sidebar-link">装饰器的使用</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#seo" class="sidebar-link">seo</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#客户端特定渲染" class="sidebar-link">客户端特定渲染</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#打包部署" class="sidebar-link">打包部署</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#其他问题" class="sidebar-link">其他问题</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3笔记.html#追加" class="sidebar-link">追加</a></li></ul></li><li><a href="/docs/nuxt3.html" class="sidebar-link">nuxt3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#路由" class="sidebar-link">路由</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#嵌套路由" class="sidebar-link">嵌套路由</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#动态路由" class="sidebar-link">动态路由</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#_404页面" class="sidebar-link">404页面</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#组件" class="sidebar-link">组件</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#layout" class="sidebar-link">layout</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#server" class="sidebar-link">server</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#组合逻辑" class="sidebar-link">组合逻辑</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#运行时配置" class="sidebar-link">运行时配置</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#三方插件pinia代替组合逻辑" class="sidebar-link">三方插件pinia代替组合逻辑</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#全局样式" class="sidebar-link">全局样式</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#其他" class="sidebar-link">其他</a></li><li class="sidebar-sub-header"><a href="/docs/nuxt3.html#未解决的问题" class="sidebar-link">未解决的问题</a></li></ul></li><li><a href="/docs/nginx简要笔记.html" class="sidebar-link">nginx简要笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#root" class="sidebar-link">root</a></li><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#路径匹配" class="sidebar-link">路径匹配</a></li><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#proxy-pass" class="sidebar-link">proxy_pass</a></li><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#http升级https" class="sidebar-link">http升级https</a></li><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#跨域代理" class="sidebar-link">跨域代理</a></li><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#gzip压缩" class="sidebar-link">gzip压缩</a></li><li class="sidebar-sub-header"><a href="/docs/nginx简要笔记.html#完整示例" class="sidebar-link">完整示例</a></li></ul></li><li><a href="/docs/Nginx.html" class="sidebar-link">Nginx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/Nginx.html#中间件架构" class="sidebar-link">中间件架构</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#代理服务器架构" class="sidebar-link">代理服务器架构</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#nginx的安装和使用" class="sidebar-link">Nginx的安装和使用</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#nginx的请求限制配置" class="sidebar-link">Nginx的请求限制配置</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#nginx的web静态资源服务" class="sidebar-link">Nginx的Web静态资源服务</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#代理服务器" class="sidebar-link">代理服务器</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#nginx代理服务" class="sidebar-link">Nginx代理服务</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#负载均衡调度slb" class="sidebar-link">负载均衡调度SLB</a></li><li class="sidebar-sub-header"><a href="/docs/Nginx.html#动态缓存" class="sidebar-link">动态缓存</a></li></ul></li><li><a href="/docs/nexus3.html" class="sidebar-link">nexus3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nexus3.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/docs/nexus3.html#npm" class="sidebar-link">npm</a></li><li class="sidebar-sub-header"><a href="/docs/nexus3.html#docker" class="sidebar-link">docker</a></li></ul></li><li><a href="/docs/nest-GRPC.html" class="sidebar-link">nest-GRPC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nest-GRPC.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/docs/nest-GRPC.html#nest-a" class="sidebar-link">nest-a</a></li><li class="sidebar-sub-header"><a href="/docs/nest-GRPC.html#nest-b" class="sidebar-link">nest-b</a></li><li class="sidebar-sub-header"><a href="/docs/nest-GRPC.html#验收" class="sidebar-link">验收</a></li></ul></li><li><a href="/docs/mysql8&amp;json.html" class="sidebar-link">mysql8&amp;json</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/mysql8&amp;json.html#部署mysql8" class="sidebar-link">部署mysql8</a></li><li class="sidebar-sub-header"><a href="/docs/mysql8&amp;json.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/docs/mysql8&amp;json.html#结合nestjs" class="sidebar-link">结合nestjs</a></li></ul></li><li><a href="/docs/nestjs单元测试.html" class="sidebar-link">nestjs单元测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nestjs单元测试.html#前置代码" class="sidebar-link">前置代码</a></li><li class="sidebar-sub-header"><a href="/docs/nestjs单元测试.html#测试代码" class="sidebar-link">测试代码</a></li><li class="sidebar-sub-header"><a href="/docs/nestjs单元测试.html#修改package-json配置" class="sidebar-link">修改package.json配置</a></li></ul></li><li><a href="/docs/nestjs+typeorm定时建表，动态查询表.html" class="sidebar-link">nestjs+typeorm定时建表，动态查询表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nestjs+typeorm定时建表，动态查询表.html#定义实体" class="sidebar-link">定义实体</a></li><li class="sidebar-sub-header"><a href="/docs/nestjs+typeorm定时建表，动态查询表.html#定时创建表" class="sidebar-link">定时创建表</a></li><li class="sidebar-sub-header"><a href="/docs/nestjs+typeorm定时建表，动态查询表.html#动态查询表" class="sidebar-link">动态查询表</a></li></ul></li><li><a href="/docs/nest.html" class="sidebar-link">nest</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/nest.html#项目生成" class="sidebar-link">项目生成</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#依赖安装" class="sidebar-link">依赖安装</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#过滤器" class="sidebar-link">过滤器</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#守卫-权限验证" class="sidebar-link">守卫（权限验证）</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#集成安装过滤器、守卫、api文档和安全设置" class="sidebar-link">集成安装过滤器、守卫、api文档和安全设置</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#数据库" class="sidebar-link">数据库</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#测试案例" class="sidebar-link">测试案例</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#中间件" class="sidebar-link">中间件</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#中间件和子模块加入" class="sidebar-link">中间件和子模块加入</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#文件操作" class="sidebar-link">文件操作</a></li><li class="sidebar-sub-header"><a href="/docs/nest.html#定时任务" class="sidebar-link">定时任务</a></li></ul></li><li><a href="/docs/mysql.html" aria-current="page" class="active sidebar-link">mysql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/mysql.html#使用docker安装mysql" class="sidebar-link">使用docker安装mysql</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#创建测试数据库并生成测试数据" class="sidebar-link">创建测试数据库并生成测试数据</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#基础查询" class="sidebar-link">基础查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#条件查询" class="sidebar-link">条件查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#排序查询" class="sidebar-link">排序查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#常见内置函数" class="sidebar-link">常见内置函数</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#分组查询" class="sidebar-link">分组查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#连接查询-多表查询" class="sidebar-link">连接查询(多表查询)</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#子查询" class="sidebar-link">子查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#分页查询" class="sidebar-link">分页查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#联合查询" class="sidebar-link">联合查询</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#查询关键字执行顺序" class="sidebar-link">查询关键字执行顺序</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#插入" class="sidebar-link">插入</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#修改" class="sidebar-link">修改</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#删除" class="sidebar-link">删除</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#库的管理" class="sidebar-link">库的管理</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#表达管理" class="sidebar-link">表达管理</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#常见数据类型" class="sidebar-link">常见数据类型</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#常见约束" class="sidebar-link">常见约束</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#事务" class="sidebar-link">事务</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#视图-用的少" class="sidebar-link">视图(用的少)</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#锁" class="sidebar-link">锁</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#存储过程和函数" class="sidebar-link">存储过程和函数</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#循环" class="sidebar-link">循环</a></li><li class="sidebar-sub-header"><a href="/docs/mysql.html#递归查询" class="sidebar-link">递归查询</a></li></ul></li><li><a href="/docs/MinIO.html" class="sidebar-link">MinIO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/MinIO.html#部署" class="sidebar-link">部署</a></li><li class="sidebar-sub-header"><a href="/docs/MinIO.html#在nestjs中使用" class="sidebar-link">在nestjs中使用</a></li></ul></li><li><a href="/docs/mariadb主从.html" class="sidebar-link">mariadb主从</a></li><li><a href="/docs/lodash源码阅读-cloneDeep.html" class="sidebar-link">lodash源码阅读-cloneDeep</a></li><li><a href="/docs/kafka-nestjs.html" class="sidebar-link">kafka-nestjs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/kafka-nestjs.html#kafka基础概念" class="sidebar-link">kafka基础概念</a></li><li class="sidebar-sub-header"><a href="/docs/kafka-nestjs.html#部署-3个节点" class="sidebar-link">部署(3个节点)</a></li><li class="sidebar-sub-header"><a href="/docs/kafka-nestjs.html#结合nestjs-使用kafkajs" class="sidebar-link">结合nestjs(使用kafkajs)</a></li><li class="sidebar-sub-header"><a href="/docs/kafka-nestjs.html#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/docs/js通过字符串拿到对象属性.html" class="sidebar-link">js通过字符串拿到对象属性</a></li><li><a href="/docs/js判断对象是否存在某个属性.html" class="sidebar-link">js判断对象是否存在某个属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/js判断对象是否存在某个属性.html#直接判断是否等于undefined" class="sidebar-link">直接判断是否等于undefined</a></li><li class="sidebar-sub-header"><a href="/docs/js判断对象是否存在某个属性.html#object-keys" class="sidebar-link">Object.keys</a></li><li class="sidebar-sub-header"><a href="/docs/js判断对象是否存在某个属性.html#hasownproperty" class="sidebar-link">hasOwnProperty</a></li><li class="sidebar-sub-header"><a href="/docs/js判断对象是否存在某个属性.html#in" class="sidebar-link">in</a></li></ul></li><li><a href="/docs/实现new.html" class="sidebar-link">实现new</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/实现new.html#new的过程发生了什么" class="sidebar-link">new的过程发生了什么</a></li><li class="sidebar-sub-header"><a href="/docs/实现new.html#代码实现" class="sidebar-link">代码实现</a></li></ul></li><li><a href="/docs/gsap.html" class="sidebar-link">gsap</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/gsap.html#to" class="sidebar-link">to</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#from" class="sidebar-link">from</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#set" class="sidebar-link">set</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#timeline" class="sidebar-link">timeline</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#ticker" class="sidebar-link">ticker</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#exportroot" class="sidebar-link">exportRoot</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#getproperty" class="sidebar-link">getProperty</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#gettweensof" class="sidebar-link">getTweensOf</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#istweening" class="sidebar-link">isTweening</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#killtweensof" class="sidebar-link">killTweensOf</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#matchmedia" class="sidebar-link">matchMedia</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#matchmediarefresh" class="sidebar-link">matchMediaRefresh</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#utils" class="sidebar-link">utils</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#random" class="sidebar-link">random</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#flip" class="sidebar-link">Flip</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#draggable" class="sidebar-link">Draggable</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#motionpathplugin" class="sidebar-link">MotionPathPlugin</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#observer" class="sidebar-link">Observer</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#scrolltoplugin" class="sidebar-link">ScrollToPlugin</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#textplugin" class="sidebar-link">TextPlugin</a></li><li class="sidebar-sub-header"><a href="/docs/gsap.html#scrolltrigger" class="sidebar-link">scrollTrigger</a></li></ul></li><li><a href="/docs/graphgl(nest).html" class="sidebar-link">graphgl(nest)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#nest项目生成-依赖安装" class="sidebar-link">nest项目生成&amp;&amp;依赖安装</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#schema" class="sidebar-link">schema</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#database" class="sidebar-link">database</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#server" class="sidebar-link">server</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#resolver" class="sidebar-link">resolver</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#访问" class="sidebar-link">访问</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#前端" class="sidebar-link">前端</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#类型" class="sidebar-link">类型</a></li><li class="sidebar-sub-header"><a href="/docs/graphgl(nest).html#参数" class="sidebar-link">参数</a></li></ul></li><li><a href="/docs/gitlab(docker)+git免密+CICD.html" class="sidebar-link">gitlab(docker)+git免密+CICD</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/gitlab(docker)+git免密+CICD.html#安装gitlab" class="sidebar-link">安装gitlab</a></li><li class="sidebar-sub-header"><a href="/docs/gitlab(docker)+git免密+CICD.html#安装gitlab-runner-ci-cd" class="sidebar-link">安装gitlab-runner(CI/CD)</a></li></ul></li><li><a href="/docs/elasticsearch.html" class="sidebar-link">elasticsearch</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/elasticsearch.html#docker部署elasticsearch" class="sidebar-link">docker部署elasticsearch</a></li><li class="sidebar-sub-header"><a href="/docs/elasticsearch.html#ik分词器添加" class="sidebar-link">ik分词器添加</a></li></ul></li><li><a href="/docs/EFK.html" class="sidebar-link">EFK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/EFK.html#拉取镜像" class="sidebar-link">拉取镜像</a></li><li class="sidebar-sub-header"><a href="/docs/EFK.html#elasticsearch" class="sidebar-link">ElasticSearch</a></li><li class="sidebar-sub-header"><a href="/docs/EFK.html#kibana" class="sidebar-link">Kibana</a></li><li class="sidebar-sub-header"><a href="/docs/EFK.html#filebeat" class="sidebar-link">FileBeat</a></li><li class="sidebar-sub-header"><a href="/docs/EFK.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/docs/EFK.html#设置密码" class="sidebar-link">设置密码</a></li></ul></li><li><a href="/docs/docker安装zookeeper集群.html" class="sidebar-link">docker安装zookeeper集群</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/docker安装zookeeper集群.html#最新版本报错找不到端口-百度说最新的发行版有问题-回到3-4-13版本" class="sidebar-link">最新版本报错找不到端口，百度说最新的发行版有问题，回到3.4.13版本</a></li><li class="sidebar-sub-header"><a href="/docs/docker安装zookeeper集群.html#后台运行-compose-project-name-zk-test-docker-compose-up-d-zk-test自定义名称" class="sidebar-link">后台运行 COMPOSEPROJECTNAME=zktest docker-compose up -d （zktest自定义名称）</a></li></ul></li><li><a href="/docs/docker-compose部署redis.html" class="sidebar-link">docker-compose部署redis</a></li><li><a href="/docs/js this指向.html" class="sidebar-link">js this指向</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/js this指向.html#常规" class="sidebar-link">常规</a></li><li class="sidebar-sub-header"><a href="/docs/js this指向.html#call、apply和bind" class="sidebar-link">call、apply和bind</a></li><li class="sidebar-sub-header"><a href="/docs/js this指向.html#箭头函数" class="sidebar-link">箭头函数</a></li></ul></li><li><a href="/docs/css高度从0过渡到auto.html" class="sidebar-link">css高度从0过渡到auto</a></li><li><a href="/docs/console.html" class="sidebar-link">console</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/console.html#常用方法" class="sidebar-link">常用方法</a></li><li class="sidebar-sub-header"><a href="/docs/console.html#部分实例" class="sidebar-link">部分实例</a></li><li class="sidebar-sub-header"><a href="/docs/console.html#css" class="sidebar-link">css</a></li></ul></li><li><a href="/docs/class-validator自定义校验.html" class="sidebar-link">class-validator自定义校验</a></li><li><a href="/docs/class-validator 验证装饰器.html" class="sidebar-link">class-validator 验证装饰器</a></li><li><a href="/docs/Blob 下载文件时 type 类型 大全.html" class="sidebar-link">Blob 下载文件时 type 类型 大全</a></li><li><a href="/docs/自定义装饰器校验数据.html" class="sidebar-link">自定义装饰器校验数据</a></li><li><a href="/docs/网站换肤.html" class="sidebar-link">网站换肤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/网站换肤.html#创建项目-安装依赖" class="sidebar-link">创建项目&amp;安装依赖</a></li><li class="sidebar-sub-header"><a href="/docs/网站换肤.html#编写sass文件" class="sidebar-link">编写sass文件</a></li><li class="sidebar-sub-header"><a href="/docs/网站换肤.html#编辑vite-config-ts" class="sidebar-link">编辑vite.config.ts</a></li><li class="sidebar-sub-header"><a href="/docs/网站换肤.html#使用" class="sidebar-link">使用</a></li><li class="sidebar-sub-header"><a href="/docs/网站换肤.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/docs/算法-KMP.html" class="sidebar-link">算法-KMP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-KMP.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/docs/算法-KMP.html#个人理解" class="sidebar-link">个人理解</a></li><li class="sidebar-sub-header"><a href="/docs/算法-KMP.html#最长相等前后缀" class="sidebar-link">最长相等前后缀</a></li></ul></li><li><a href="/docs/算法-bf.html" class="sidebar-link">算法-bf</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-bf.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/docs/算法-bf.html#举例" class="sidebar-link">举例</a></li><li class="sidebar-sub-header"><a href="/docs/算法-bf.html#代码实现" class="sidebar-link">代码实现</a></li></ul></li><li><a href="/docs/算法-希尔排序.html" class="sidebar-link">算法-希尔排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-希尔排序.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/算法-希尔排序.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-直接插入排序.html" class="sidebar-link">算法-直接插入排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-直接插入排序.html#基本思想" class="sidebar-link">基本思想</a></li><li class="sidebar-sub-header"><a href="/docs/算法-直接插入排序.html#算法描述" class="sidebar-link">算法描述</a></li><li class="sidebar-sub-header"><a href="/docs/算法-直接插入排序.html#适用范围" class="sidebar-link">适用范围</a></li><li class="sidebar-sub-header"><a href="/docs/算法-直接插入排序.html#代码实现" class="sidebar-link">代码实现</a></li><li class="sidebar-sub-header"><a href="/docs/算法-直接插入排序.html#个人理解" class="sidebar-link">个人理解</a></li></ul></li><li><a href="/docs/算法-快速排序.html" class="sidebar-link">算法-快速排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-快速排序.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/算法-快速排序.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-简单选择排序.html" class="sidebar-link">算法-简单选择排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-简单选择排序.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/算法-简单选择排序.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-赫夫曼编码.html" class="sidebar-link">算法-赫夫曼编码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-赫夫曼编码.html#工作原理" class="sidebar-link">工作原理</a></li><li class="sidebar-sub-header"><a href="/docs/算法-赫夫曼编码.html#赫夫曼树" class="sidebar-link">赫夫曼树</a></li><li class="sidebar-sub-header"><a href="/docs/算法-赫夫曼编码.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-回溯法与八皇后问题.html" class="sidebar-link">算法-回溯法与八皇后问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-回溯法与八皇后问题.html#八皇后问题" class="sidebar-link">八皇后问题</a></li><li class="sidebar-sub-header"><a href="/docs/算法-回溯法与八皇后问题.html#回溯法" class="sidebar-link">回溯法</a></li><li class="sidebar-sub-header"><a href="/docs/算法-回溯法与八皇后问题.html#实现" class="sidebar-link">实现</a></li><li class="sidebar-sub-header"><a href="/docs/算法-回溯法与八皇后问题.html#测试" class="sidebar-link">测试</a></li></ul></li><li><a href="/docs/算法-汉诺塔.html" class="sidebar-link">算法-汉诺塔</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-汉诺塔.html#玩法" class="sidebar-link">玩法</a></li><li class="sidebar-sub-header"><a href="/docs/算法-汉诺塔.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/算法-汉诺塔.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-斐波那契数列.html" class="sidebar-link">算法-斐波那契数列</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-斐波那契数列.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/docs/算法-斐波那契数列.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-二分查找.html" class="sidebar-link">算法-二分查找</a></li><li><a href="/docs/算法-堆排序.html" class="sidebar-link">算法-堆排序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-堆排序.html#前置名词解释" class="sidebar-link">前置名词解释</a></li><li class="sidebar-sub-header"><a href="/docs/算法-堆排序.html#基本思想" class="sidebar-link">基本思想</a></li><li class="sidebar-sub-header"><a href="/docs/算法-堆排序.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/算法-度量方法.html" class="sidebar-link">算法-度量方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/算法-度量方法.html#时间复杂度" class="sidebar-link">时间复杂度</a></li><li class="sidebar-sub-header"><a href="/docs/算法-度量方法.html#大o计数法" class="sidebar-link">大O计数法</a></li><li class="sidebar-sub-header"><a href="/docs/算法-度量方法.html#常用时间复杂度排序" class="sidebar-link">常用时间复杂度排序</a></li></ul></li><li><a href="/docs/数据结构-图.html" class="sidebar-link">数据结构-图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#基本概念" class="sidebar-link">基本概念</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#图的存储" class="sidebar-link">图的存储</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#图的遍历" class="sidebar-link">图的遍历</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#最小生成树" class="sidebar-link">最小生成树</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#最短路径" class="sidebar-link">最短路径</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#aov网" class="sidebar-link">AOV网</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-图.html#aoe网" class="sidebar-link">AOE网</a></li></ul></li><li><a href="/docs/数据结构-散列表.html" class="sidebar-link">数据结构-散列表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-散列表.html#基本思想" class="sidebar-link">基本思想</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-散列表.html#散列表" class="sidebar-link">散列表</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-散列表.html#散列函数" class="sidebar-link">散列函数</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-散列表.html#散列地址" class="sidebar-link">散列地址</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-散列表.html#散列冲突" class="sidebar-link">散列冲突</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-散列表.html#处理冲突的方法" class="sidebar-link">处理冲突的方法</a></li></ul></li><li><a href="/docs/数据结构-平衡二叉树.html" class="sidebar-link">数据结构-平衡二叉树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-平衡二叉树.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-平衡二叉树.html#思路" class="sidebar-link">思路</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-平衡二叉树.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/数据结构-二叉排序树.html" class="sidebar-link">数据结构-二叉排序树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-二叉排序树.html#性质" class="sidebar-link">性质</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-二叉排序树.html#实现" class="sidebar-link">实现</a></li></ul></li><li><a href="/docs/数据结构-二叉树.html" class="sidebar-link">数据结构-二叉树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-二叉树.html#定义" class="sidebar-link">定义</a></li></ul></li><li><a href="/docs/数据结构-栈&amp;队列.html" class="sidebar-link">数据结构-栈&amp;队列</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-栈&amp;队列.html#栈" class="sidebar-link">栈</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-栈&amp;队列.html#队列" class="sidebar-link">队列</a></li></ul></li><li><a href="/docs/数据结构-链表.html" class="sidebar-link">数据结构-链表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/数据结构-链表.html#定义" class="sidebar-link">定义</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-链表.html#单向链表" class="sidebar-link">单向链表</a></li><li class="sidebar-sub-header"><a href="/docs/数据结构-链表.html#双向链表" class="sidebar-link">双向链表</a></li></ul></li><li><a href="/docs/ca自签名+配置https.html" class="sidebar-link">ca自签名+配置https</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/ca自签名+配置https.html#生成私钥" class="sidebar-link">生成私钥</a></li><li class="sidebar-sub-header"><a href="/docs/ca自签名+配置https.html#生成csr-证书签名请求" class="sidebar-link">生成CSR（证书签名请求）</a></li><li class="sidebar-sub-header"><a href="/docs/ca自签名+配置https.html#删除私钥中的密码" class="sidebar-link">删除私钥中的密码</a></li><li class="sidebar-sub-header"><a href="/docs/ca自签名+配置https.html#生成自签名证书" class="sidebar-link">生成自签名证书</a></li><li class="sidebar-sub-header"><a href="/docs/ca自签名+配置https.html#express使用" class="sidebar-link">express使用</a></li></ul></li><li><a href="/docs/centos7安装docker.html" class="sidebar-link">centos7安装docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/centos7安装docker.html#更新yum包-安装需要的软件包" class="sidebar-link">更新yum包&amp;安装需要的软件包</a></li><li class="sidebar-sub-header"><a href="/docs/centos7安装docker.html#设置yum源-选择其中一个-我选的阿里仓库" class="sidebar-link">设置yum源（选择其中一个,我选的阿里仓库）</a></li><li class="sidebar-sub-header"><a href="/docs/centos7安装docker.html#安装docker" class="sidebar-link">安装Docker</a></li><li class="sidebar-sub-header"><a href="/docs/centos7安装docker.html#启动docker-并加入开机启动" class="sidebar-link">启动Docker,并加入开机启动</a></li><li class="sidebar-sub-header"><a href="/docs/centos7安装docker.html#配置阿里云加速-否则不能下载镜像" class="sidebar-link">配置阿里云加速，否则不能下载镜像</a></li><li class="sidebar-sub-header"><a href="/docs/centos7安装docker.html#安装docker-compose" class="sidebar-link">安装docker-compose</a></li></ul></li><li><a href="/docs/centos7搭建vsftp.html" class="sidebar-link">centos7搭建vsftp</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#安装应用" class="sidebar-link">安装应用</a></li><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#备份配置文件" class="sidebar-link">备份配置文件</a></li><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#创建载体用户" class="sidebar-link">创建载体用户</a></li><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#修改载体用户目录权限" class="sidebar-link">修改载体用户目录权限</a></li><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#创建虚拟用户表" class="sidebar-link">创建虚拟用户表</a></li><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#生成db文件" class="sidebar-link">生成db文件</a></li><li class="sidebar-sub-header"><a href="/docs/centos7搭建vsftp.html#设置认证文件pam" class="sidebar-link">设置认证文件PAM</a></li></ul></li><li><a href="/docs/linux安装mysql.html" class="sidebar-link">linux安装mysql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#配置mysql-8-0安装源" class="sidebar-link">配置Mysql 8.0安装源</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#安装mysql-8-0" class="sidebar-link">安装Mysql 8.0</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#启动mysql服务" class="sidebar-link">启动mysql服务</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#拿到临时密码" class="sidebar-link">拿到临时密码</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#登录" class="sidebar-link">登录</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#查看当前的密码验证策略" class="sidebar-link">查看当前的密码验证策略</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#重设密码" class="sidebar-link">重设密码</a></li><li class="sidebar-sub-header"><a href="/docs/linux安装mysql.html#配置远程访问" class="sidebar-link">配置远程访问</a></li></ul></li><li><a href="/docs/安全连接远程linux.html" class="sidebar-link">安全连接远程linux</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql入门和常用笔记"><a href="#mysql入门和常用笔记" class="header-anchor">#</a> <center>mysql入门和常用笔记</center></h1> <h2 id="使用docker安装mysql"><a href="#使用docker安装mysql" class="header-anchor">#</a> 使用docker安装mysql</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">docker</span> pull mysql:5.7
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /docker/mysql/data
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> studymysql <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">-v</span> /docker/mysql/data:/var/lib/mysql <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">614489858</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-d</span> mysql:5.7
</code></pre></div><h2 id="创建测试数据库并生成测试数据"><a href="#创建测试数据库并生成测试数据" class="header-anchor">#</a> 创建测试数据库并生成测试数据</h2> <p>使用sqlyog学习</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> study <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4<span class="token punctuation">;</span>
<span class="token keyword">USE</span> study<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> user_profile<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>user_profile<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
<span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>province<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2138</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">'北京大学'</span><span class="token punctuation">,</span><span class="token string">'BeiJing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3214</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'复旦大学'</span><span class="token punctuation">,</span><span class="token string">'Shanghai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6543</span><span class="token punctuation">,</span><span class="token string">'female'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'北京大学'</span><span class="token punctuation">,</span><span class="token string">'BeiJing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2315</span><span class="token punctuation">,</span><span class="token string">'female'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string">'浙江大学'</span><span class="token punctuation">,</span><span class="token string">'ZheJiang'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5432</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token string">'山东大学'</span><span class="token punctuation">,</span><span class="token string">'Shandong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 用以学习关联查询</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>user_profile2<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span>  <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>question_practice_detail<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>user_profile2<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
<span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span> <span class="token keyword">FLOAT</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>active_days_within_30<span class="token punctuation">`</span></span> <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>question_practice_detail<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
<span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span><span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2138</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">'北京大学'</span><span class="token punctuation">,</span><span class="token number">3.4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3214</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">'复旦大学'</span><span class="token punctuation">,</span><span class="token number">4.0</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">6543</span><span class="token punctuation">,</span><span class="token string">'female'</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">'北京大学'</span><span class="token punctuation">,</span><span class="token number">3.2</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2315</span><span class="token punctuation">,</span><span class="token string">'female'</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string">'浙江大学'</span><span class="token punctuation">,</span><span class="token number">3.6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">5432</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token string">'山东大学'</span><span class="token punctuation">,</span><span class="token number">3.8</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2131</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token string">'山东大学'</span><span class="token punctuation">,</span><span class="token number">3.3</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">4321</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token string">'复旦大学'</span><span class="token punctuation">,</span><span class="token number">3.6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2138</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3214</span><span class="token punctuation">,</span><span class="token number">112</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3214</span><span class="token punctuation">,</span><span class="token number">113</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">6543</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span><span class="token string">'right'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2315</span><span class="token punctuation">,</span><span class="token number">115</span><span class="token punctuation">,</span><span class="token string">'right'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2315</span><span class="token punctuation">,</span><span class="token number">116</span><span class="token punctuation">,</span><span class="token string">'right'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2315</span><span class="token punctuation">,</span><span class="token number">117</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">5432</span><span class="token punctuation">,</span><span class="token number">118</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">5432</span><span class="token punctuation">,</span><span class="token number">112</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2131</span><span class="token punctuation">,</span><span class="token number">114</span><span class="token punctuation">,</span><span class="token string">'right'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> question_practice_detail <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">5432</span><span class="token punctuation">,</span><span class="token number">113</span><span class="token punctuation">,</span><span class="token string">'wrong'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="基础查询"><a href="#基础查询" class="header-anchor">#</a> 基础查询</h2> <p>语法: <code>select 查询列表 from 表名;</code></p> <h3 id="查询所有字段"><a href="#查询所有字段" class="header-anchor">#</a> 查询所有字段</h3> <p><code>*</code>表示查询所有字段</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code>id	device_id	gender	age	university	province
<span class="token number">1</span>	<span class="token number">2138</span>	    male	<span class="token number">21</span>	北京大学	    BeiJing
<span class="token number">2</span>	<span class="token number">3214</span>	    male	\N	复旦大学	    Shanghai
<span class="token number">3</span>	<span class="token number">6543</span>	    female	<span class="token number">20</span>	北京大学	    BeiJing
<span class="token number">4</span>	<span class="token number">2315</span>	    female	<span class="token number">23</span>	浙江大学	    ZheJiang
<span class="token number">5</span>	<span class="token number">5432</span>	    male	<span class="token number">25</span>	山东大学	    Shandong
</code></pre></div><h3 id="查询单个字段"><a href="#查询单个字段" class="header-anchor">#</a> 查询单个字段</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code>university
北京大学
复旦大学
北京大学
浙江大学
山东大学
</code></pre></div><h3 id="查询多个字段"><a href="#查询多个字段" class="header-anchor">#</a> 查询多个字段</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code>id	university
<span class="token number">1</span>	北京大学
<span class="token number">2</span>	复旦大学
<span class="token number">3</span>	北京大学
<span class="token number">4</span>	浙江大学
<span class="token number">5</span>	山东大学
</code></pre></div><h3 id="查询表达式"><a href="#查询表达式" class="header-anchor">#</a> 查询表达式</h3> <p><code>SELECT</code>可以直接跟表达式，如下(使用<code>as</code>起别名)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token number">100</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token keyword">as</span> total<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;total&quot;</span>
<span class="token string">&quot;2000&quot;</span>
</code></pre></div><h3 id="查询函数"><a href="#查询函数" class="header-anchor">#</a> 查询函数</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;version()&quot;</span>
<span class="token string">&quot;5.7.36&quot;</span>
</code></pre></div><p><code>VERSION</code>是mysql内置函数,类似的还有日期，数学等相关函数</p> <h3 id="去重"><a href="#去重" class="header-anchor">#</a> 去重</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;gender&quot;</span>
<span class="token string">&quot;male&quot;</span>
<span class="token string">&quot;male&quot;</span>
<span class="token string">&quot;female&quot;</span>
<span class="token string">&quot;female&quot;</span>
<span class="token string">&quot;male&quot;</span>
</code></pre></div><p>数据有多个重复，使用<code>DISTINCT</code>去重</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;gender&quot;</span>
<span class="token string">&quot;male&quot;</span>
<span class="token string">&quot;female&quot;</span>
</code></pre></div><h3 id=""><a href="#" class="header-anchor">#</a> +</h3> <p>mysql中<code>+</code>不似主流编程语言，不具有拼接功能，只有运算符功能。</p> <h4 id="两个数相加"><a href="#两个数相加" class="header-anchor">#</a> 两个数相加</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token keyword">AS</span> total<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;total&quot;</span>
<span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="字符与数相加"><a href="#字符与数相加" class="header-anchor">#</a> 字符与数相加</h4> <p>字符与数相加，mysql将试图将字符串转换成数字，若能转换成功，则当作数字相加；若转换失败，则将之视为0参与运算</p> <h4 id="当字符可转化成数字时"><a href="#当字符可转化成数字时" class="header-anchor">#</a> 当字符可转化成数字时</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token string">'10'</span> <span class="token operator">+</span> <span class="token number">20</span> <span class="token keyword">AS</span> total<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;total&quot;</span>
<span class="token string">&quot;30&quot;</span>
</code></pre></div><h4 id="当字符不可转化成数字时"><a href="#当字符不可转化成数字时" class="header-anchor">#</a> 当字符不可转化成数字时</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token string">'ww'</span> <span class="token operator">+</span> <span class="token number">20</span> <span class="token keyword">AS</span> total<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;total&quot;</span>
<span class="token string">&quot;20&quot;</span>
</code></pre></div><h4 id="null与数相加"><a href="#null与数相加" class="header-anchor">#</a> null与数相加</h4> <p>只要其中一方为<code>null</code>，则结果为<code>null</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token boolean">NULL</span> <span class="token operator">+</span> <span class="token number">20</span> <span class="token keyword">AS</span> total<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;total&quot;</span>
\N
</code></pre></div><h3 id="拼接字符"><a href="#拼接字符" class="header-anchor">#</a> 拼接字符</h3> <p>如上所述<code>+</code>不具备字符拼接功能，在mysql中使用<code>CONCAT</code>完成该功能。<code>CONCAT</code>是内置函数，可将传入的多个字符串拼接成一个</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'hello '</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> <span class="token string">' !'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> title <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;title&quot;</span>
<span class="token string">&quot;hello 1 !&quot;</span>
<span class="token string">&quot;hello 2 !&quot;</span>
<span class="token string">&quot;hello 3 !&quot;</span>
<span class="token string">&quot;hello 4 !&quot;</span>
<span class="token string">&quot;hello 5 !&quot;</span>
</code></pre></div><h2 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询</h2> <p>使用<code>where</code>添加筛选条件</p> <h3 id="条件运算符"><a href="#条件运算符" class="header-anchor">#</a> 条件运算符</h3> <p>大于:<code>&gt;</code>, 小于:<code>&lt;</code>, 等于:<code>=</code>, 不等于:<code>&lt;&gt;</code>, 小于等于；<code>&lt;=</code>, 大于等于:<code>&gt;=</code></p> <h3 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h3> <p>与:<code>&amp;&amp;</code>, 或:<code>||</code>, 非:<code>!</code></p> <h3 id="模糊查询"><a href="#模糊查询" class="header-anchor">#</a> 模糊查询</h3> <p>模糊匹配:<code>LIKE</code>, 区间范围:<code>BETWEEN AND</code>, 集合之内:<code>IN</code>, 为null:<code>IS NULL</code>, 非null:<code>IS NOT NULL</code></p> <p><code>null</code>不能用<code>=</code>比较，只能用<code>IS</code>或者安全等于<code>&lt;=&gt;</code>比较。反之普通比较不能用<code>IS</code>，但可以使用<code>&lt;=&gt;</code>。但<code>&lt;=&gt;</code>可读性较差，通常用<code>IS</code></p> <h3 id="举例"><a href="#举例" class="header-anchor">#</a> 举例</h3> <h4 id="筛选字段age不为null的数据"><a href="#筛选字段age不为null的数据" class="header-anchor">#</a> 筛选字段<code>age</code>不为<code>null</code>的数据</h4> <div class="language- extra-class"><pre class="language-text"><code>SELECT * FROM user_profile WHERE age IS NOT NULL;
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;ZheJiang&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;Shandong&quot;</span>
</code></pre></div><h4 id="筛选字段id大于等于1-并且小于等于4的数据"><a href="#筛选字段id大于等于1-并且小于等于4的数据" class="header-anchor">#</a> 筛选字段<code>id</code>大于等于1，并且小于等于4的数据</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> id <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">AND</span> id <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre></div><p>或者使用<code>BETWEEN AND</code>，<code>BETWEEN AND</code>含义与<code>&gt;=</code>+<code>&lt;=</code>一致，所以<code>BETWEEN AND</code>不要调换顺序</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> id <span class="token operator">BETWEEN</span> <span class="token number">1</span> <span class="token operator">AND</span> <span class="token number">4</span><span class="token punctuation">;</span>
</code></pre></div><p>输出</p> <div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;2&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    \N	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;Shanghai&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;ZheJiang&quot;</span>
</code></pre></div><h4 id="筛选字段province包含字符sh的数据"><a href="#筛选字段province包含字符sh的数据" class="header-anchor">#</a> 筛选字段<code>province</code>包含字符<code>Sh</code>的数据</h4> <p>使用<code>LIKE</code>进行模糊查询，通常和通配符搭配使用，通配符常有:</p> <ul><li><code>%</code>，表示任意字符,包含0个字符</li> <li><code>_</code>，表示任意单个字符</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> province <span class="token operator">LIKE</span> <span class="token string">'Sh%'</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>
<span class="token string">&quot;2&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    \N	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;Shanghai&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;Shandong&quot;</span>
</code></pre></div><p>若查询的数据刚好就是或者包含<code>%</code>,<code>_</code>,使用<code>\</code>转义，比如查询第二个字符为<code>_</code>的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> province <span class="token operator">LIKE</span> <span class="token string">'_/_'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="筛选字段university是北京大学或山东大学的数据"><a href="#筛选字段university是北京大学或山东大学的数据" class="header-anchor">#</a> 筛选字段<code>university</code>是<code>北京大学</code>或<code>山东大学</code>的数据</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> university <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'北京大学'</span><span class="token punctuation">,</span> <span class="token string">'山东大学'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;Shandong&quot;</span>
</code></pre></div><h2 id="排序查询"><a href="#排序查询" class="header-anchor">#</a> 排序查询</h2> <p>使用<code>ORDER BY</code>指定排序字段,升序排序(默认)<code>ASC</code>，降序排序<code>DESC</code></p> <p>按照字段<code>device_id</code>降序排列</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> device_id <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;Shandong&quot;</span>
<span class="token string">&quot;2&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    \N	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;Shanghai&quot;</span>
<span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;ZheJiang&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
</code></pre></div><p><code>ORDER BY</code>也可以跟表达式,例如按照<code>age</code>降序排列(<code>IFNULL</code>判断第一个参数是否为<code>null</code>，若为真，则使用第二个参数)：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> IFNULL<span class="token punctuation">(</span>age<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;Shandong&quot;</span>
<span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;ZheJiang&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>
<span class="token string">&quot;2&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    \N	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;Shanghai&quot;</span>
</code></pre></div><h2 id="常见内置函数"><a href="#常见内置函数" class="header-anchor">#</a> 常见内置函数</h2> <p>语法：<code>SELECT 函数名(实参列表);</code></p> <h3 id="单行函数-一个输入-一个输出"><a href="#单行函数-一个输入-一个输出" class="header-anchor">#</a> 单行函数(一个输入，一个输出)</h3> <h4 id="字符函数"><a href="#字符函数" class="header-anchor">#</a> 字符函数</h4> <h5 id="length"><a href="#length" class="header-anchor">#</a> LENGTH</h5> <p>功能:获取字符串字节长度，utf8mb4中一个汉字3个字节，一个英文字母一个字节</p> <h6 id="英文"><a href="#英文" class="header-anchor">#</a> 英文</h6> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">'fish'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;length('fish')&quot;</span>
<span class="token string">&quot;4&quot;</span>
</code></pre></div><h6 id="-2"><a href="#-2" class="header-anchor">#</a></h6> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LENGTH<span class="token punctuation">(</span><span class="token string">'中文'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;length('中文')&quot;</span>
<span class="token string">&quot;6&quot;</span>
</code></pre></div><h5 id="concat"><a href="#concat" class="header-anchor">#</a> CONCAT</h5> <p>功能:拼接字符</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">' world'</span><span class="token punctuation">,</span> <span class="token string">' !'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> msg<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;msg&quot;</span>
<span class="token string">&quot;hello world !&quot;</span>
</code></pre></div><h5 id="upper"><a href="#upper" class="header-anchor">#</a> UPPER</h5> <p>功能:将字符变大写</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> UPPER<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;upper('hello')&quot;</span>
<span class="token string">&quot;HELLO&quot;</span>
</code></pre></div><h5 id="lower"><a href="#lower" class="header-anchor">#</a> LOWER</h5> <p>功能:将字符变小写</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LOWER<span class="token punctuation">(</span><span class="token string">'WORLD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;lower('WORLD')&quot;</span>
<span class="token string">&quot;world&quot;</span>
</code></pre></div><h5 id="substr"><a href="#substr" class="header-anchor">#</a> SUBSTR</h5> <p>功能:截取字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span><span class="token string">'helloworld'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;substr('helloworld', 2, 4)&quot;</span>
<span class="token string">&quot;ello&quot;</span>
</code></pre></div><h5 id="instr"><a href="#instr" class="header-anchor">#</a> INSTR</h5> <p>功能:返回子字符串在父字符串第一次出现位置，若找不到返回0，注意是从1开始计数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> INSTR<span class="token punctuation">(</span><span class="token string">'fish'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>index<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;index&quot;</span>
<span class="token string">&quot;2&quot;</span>
</code></pre></div><h5 id="trim"><a href="#trim" class="header-anchor">#</a> TRIM</h5> <p>功能:去除字符串首尾空格</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">'  fish   '</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>str<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;str&quot;</span>
<span class="token string">&quot;fish&quot;</span>
</code></pre></div><p>功能: 可去除指定字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> TRIM<span class="token punctuation">(</span><span class="token string">'fi'</span> <span class="token keyword">FROM</span> <span class="token string">'fishfi'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>str<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;str&quot;</span>
<span class="token string">&quot;sh&quot;</span>
</code></pre></div><h5 id="lpad"><a href="#lpad" class="header-anchor">#</a> LPAD</h5> <p>功能:指定字符串长度，若长度不够，向左填充指定字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> LPAD<span class="token punctuation">(</span><span class="token string">'fi'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'*3'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>str<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;str&quot;</span>
<span class="token string">&quot;*13*13*1fi&quot;</span>
</code></pre></div><h5 id="rpad"><a href="#rpad" class="header-anchor">#</a> RPAD</h5> <p>功能:指定字符串长度，若长度不够，向右填充指定字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> RPAD<span class="token punctuation">(</span><span class="token string">'fi'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'*13'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>str<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;str&quot;</span>
<span class="token string">&quot;fi*13*13*1&quot;</span>
</code></pre></div><h5 id="replace"><a href="#replace" class="header-anchor">#</a> REPLACE</h5> <p>功能:将字符串中的字串替换掉</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">REPLACE</span><span class="token punctuation">(</span><span class="token string">'吃葡萄不吐葡萄皮'</span><span class="token punctuation">,</span> <span class="token string">'葡萄'</span><span class="token punctuation">,</span> <span class="token string">'西瓜'</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>str<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;str&quot;</span>
<span class="token string">&quot;吃西瓜不吐西瓜皮&quot;</span>
</code></pre></div><h4 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h4> <h5 id="round"><a href="#round" class="header-anchor">#</a> ROUND</h5> <p>功能:四舍五入</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.65</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> a<span class="token punctuation">,</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.45</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> b<span class="token punctuation">,</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.35</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> c<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;a&quot;</span>	<span class="token string">&quot;b&quot;</span>	<span class="token string">&quot;c&quot;</span>
<span class="token string">&quot;2&quot;</span>	<span class="token string">&quot;1&quot;</span>	<span class="token string">&quot;-1&quot;</span>
</code></pre></div><p>指定保留位数,以保留两位为例:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">ROUND</span><span class="token punctuation">(</span><span class="token number">1.653</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;round(1.653, 2)&quot;</span>
<span class="token string">&quot;1.65&quot;</span>
</code></pre></div><h5 id="ceil"><a href="#ceil" class="header-anchor">#</a> CEIL</h5> <p>功能:向上取整</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CEIL<span class="token punctuation">(</span><span class="token number">1.253</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;ceil(1.253)&quot;</span>
<span class="token string">&quot;2&quot;</span>
</code></pre></div><h5 id="floor"><a href="#floor" class="header-anchor">#</a> FLOOR</h5> <p>功能:向下取整</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> FLOOR<span class="token punctuation">(</span><span class="token number">1.853</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;floor(1.853)&quot;</span>
<span class="token string">&quot;1&quot;</span>
</code></pre></div><h5 id="truncate"><a href="#truncate" class="header-anchor">#</a> TRUNCATE</h5> <p>功能:截断，多余的位数将被舍弃</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">TRUNCATE</span><span class="token punctuation">(</span><span class="token number">1.85355</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> num<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;num&quot;</span>
<span class="token string">&quot;1.853&quot;</span>
</code></pre></div><h5 id="mod"><a href="#mod" class="header-anchor">#</a> MOD</h5> <p>功能:取余，相当于主流编程语言的<code>%</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MOD</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> num<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;num&quot;</span>
<span class="token string">&quot;1&quot;</span>
</code></pre></div><h4 id="日期函数"><a href="#日期函数" class="header-anchor">#</a> 日期函数</h4> <h5 id="now"><a href="#now" class="header-anchor">#</a> NOW</h5> <p>功能:返回当前日期</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;now()&quot;</span>
<span class="token string">&quot;2020-12-12 23:16:46&quot;</span>
</code></pre></div><h5 id="curdate"><a href="#curdate" class="header-anchor">#</a> CURDATE</h5> <p>功能:返回当前日期,不包括时间</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;curdate()&quot;</span>
<span class="token string">&quot;2020-12-12&quot;</span>
</code></pre></div><h5 id="curtime"><a href="#curtime" class="header-anchor">#</a> CURTIME</h5> <p>功能:返回当前时间,不包括日期</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> CURTIME<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;curtime()&quot;</span>
<span class="token string">&quot;23:19:11&quot;</span>
</code></pre></div><h5 id="年月日时分秒"><a href="#年月日时分秒" class="header-anchor">#</a> 年月日时分秒</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>year<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token keyword">MONTH</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>month<span class="token punctuation">`</span></span><span class="token punctuation">,</span> DAYOFMONTH<span class="token punctuation">(</span>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>date<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token keyword">HOUR</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>hour<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token keyword">MINUTE</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>minute<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token keyword">SECOND</span><span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>second<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;year&quot;</span>	<span class="token string">&quot;month&quot;</span>	<span class="token string">&quot;date&quot;</span>	<span class="token string">&quot;hour&quot;</span>	<span class="token string">&quot;minute&quot;</span>	<span class="token string">&quot;second&quot;</span>
<span class="token string">&quot;2020&quot;</span>	<span class="token string">&quot;12&quot;</span>	<span class="token string">&quot;12&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;27&quot;</span>	<span class="token string">&quot;50&quot;</span>
</code></pre></div><h5 id="str-to-date"><a href="#str-to-date" class="header-anchor">#</a> STR_TO_DATE</h5> <p>功能:将日期格式字符串转换成日期</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">YEAR</span><span class="token punctuation">(</span>STR_TO_DATE<span class="token punctuation">(</span><span class="token string">'2000-12-12'</span><span class="token punctuation">,</span> <span class="token string">'%Y-%c-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2000</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;year(STR_TO_DATE('2000-12-12', '%Y-%c-%d')) = 2000&quot;</span>
<span class="token string">&quot;1&quot;</span>
</code></pre></div><h5 id="date-format"><a href="#date-format" class="header-anchor">#</a> DATE_FORMAT</h5> <p>功能:将日期格式化成指定格式字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATE_FORMAT<span class="token punctuation">(</span><span class="token function">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'%Y/%m/%d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;date_format(now(), '%Y/%m/%d')&quot;</span>
<span class="token string">&quot;2020/12/12&quot;</span>
</code></pre></div><h5 id="datediff"><a href="#datediff" class="header-anchor">#</a> DATEDIFF</h5> <p>功能:计算两个日期相差多少天,可以传日期，也可以传日期格式字符串</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> DATEDIFF<span class="token punctuation">(</span><span class="token string">'2020-11-11'</span><span class="token punctuation">,</span> <span class="token string">'2020-11-15'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;datediff('2020-11-11', '2020-11-15')&quot;</span>
<span class="token string">&quot;-4&quot;</span>
</code></pre></div><h4 id="其他函数"><a href="#其他函数" class="header-anchor">#</a> 其他函数</h4> <h5 id="version"><a href="#version" class="header-anchor">#</a> VERSION</h5> <p>功能:查询mysql版本</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;version()&quot;</span>
<span class="token string">&quot;5.7.36&quot;</span>
</code></pre></div><h5 id="database"><a href="#database" class="header-anchor">#</a> DATABASE</h5> <p>功能:查询当前数据库</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;database()&quot;</span>
<span class="token string">&quot;study&quot;</span>
</code></pre></div><h5 id="user"><a href="#user" class="header-anchor">#</a> USER</h5> <p>功能:查询当前用户</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;user()&quot;</span>
<span class="token string">&quot;root@192.168.2.111&quot;</span>
</code></pre></div><h4 id="流程控制函数"><a href="#流程控制函数" class="header-anchor">#</a> 流程控制函数</h4> <h5 id="if"><a href="#if" class="header-anchor">#</a> IF</h5> <p>功能:大致相当于主流编程语言<code>if</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'正确'</span><span class="token punctuation">,</span> <span class="token string">'错误'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;if(1&gt;2, '正确', '错误')&quot;</span>
<span class="token string">&quot;错误&quot;</span>
</code></pre></div><h5 id="case"><a href="#case" class="header-anchor">#</a> CASE</h5> <p>功能:大致相当于主流编程语言<code>switch</code>,语法有较大出入。配套关键字有<code>CASE</code>,<code>WHEN</code>, <code>THEN</code>, <code>ELSE</code>, <code>END</code>，其中<code>CASE</code>可以理解成主流编程语言<code>switch</code>，<code>END</code>表示结束， <code>WHEN</code>相当于主流编程语言<code>case</code>, <code>THEN</code>相当于主流编程语言的执行块，<code>ELSE</code>相当于主流编程语言<code>default</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token punctuation">,</span>
<span class="token keyword">CASE</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span>
<span class="token keyword">WHEN</span> <span class="token string">'北京大学'</span> <span class="token keyword">THEN</span> <span class="token string">'北京地区'</span>
<span class="token keyword">WHEN</span> <span class="token string">'复旦大学'</span> <span class="token keyword">THEN</span> <span class="token string">'上海地区'</span>
<span class="token keyword">WHEN</span> <span class="token string">'浙江大学'</span> <span class="token keyword">THEN</span> <span class="token string">'浙江地区'</span>
<span class="token keyword">ELSE</span> <span class="token string">'山东地区'</span>
<span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">'area'</span>
<span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;province&quot;</span>	<span class="token string">&quot;area&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>	<span class="token string">&quot;北京地区&quot;</span>
<span class="token string">&quot;2&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    \N	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;Shanghai&quot;</span>	<span class="token string">&quot;上海地区&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;BeiJing&quot;</span>	<span class="token string">&quot;北京地区&quot;</span>
<span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;ZheJiang&quot;</span>	<span class="token string">&quot;浙江地区&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;Shandong&quot;</span>	<span class="token string">&quot;山东地区&quot;</span>
</code></pre></div><p>另一种语法<code>CASE</code>不跟字段，从语法来说更相似主流编程语言的<code>if(){}else if(){}</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span>device_id<span class="token punctuation">,</span>
<span class="token keyword">CASE</span> 
<span class="token keyword">WHEN</span> device_id <span class="token operator">&gt;</span> <span class="token number">6000</span> <span class="token keyword">THEN</span> <span class="token string">'设备id大于6000'</span>
<span class="token keyword">WHEN</span> device_id <span class="token operator">&gt;</span> <span class="token number">5000</span> <span class="token keyword">THEN</span> <span class="token string">'设备id大于5000'</span>
<span class="token keyword">WHEN</span> device_id <span class="token operator">&gt;</span> <span class="token number">4000</span> <span class="token keyword">THEN</span> <span class="token string">'设备id大于4000'</span>
<span class="token keyword">ELSE</span> <span class="token string">'设备id小于等于4000'</span>
<span class="token keyword">END</span> <span class="token keyword">AS</span> <span class="token string">'备注'</span>
<span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;备注&quot;</span>
<span class="token string">&quot;1&quot;</span>	    <span class="token string">&quot;2138&quot;</span>	    <span class="token string">&quot;设备id小于等于4000&quot;</span>
<span class="token string">&quot;2&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;设备id小于等于4000&quot;</span>
<span class="token string">&quot;3&quot;</span>	    <span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;设备id大于6000&quot;</span>
<span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;设备id小于等于4000&quot;</span>
<span class="token string">&quot;5&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;设备id大于5000&quot;</span>
</code></pre></div><h3 id="聚合函数-多行输入-一个输出"><a href="#聚合函数-多行输入-一个输出" class="header-anchor">#</a> 聚合函数(多行输入，一个输出)</h3> <h4 id="sum"><a href="#sum" class="header-anchor">#</a> SUM</h4> <p>功能:对所选行指定的字段进行求和</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;SUm(id)&quot;</span>
<span class="token string">&quot;15&quot;</span>
</code></pre></div><p>一共5行，将5行的<code>id</code>进行求和并输出一个值</p> <h4 id="avg"><a href="#avg" class="header-anchor">#</a> AVG</h4> <p>功能:对所选行指定的字段求平均值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;avg(id)&quot;</span>
<span class="token string">&quot;3.0000&quot;</span>
</code></pre></div><h4 id="min"><a href="#min" class="header-anchor">#</a> MIN</h4> <p>功能:找出所选行指定的字段最小值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;min(id)&quot;</span>
<span class="token string">&quot;1&quot;</span>
</code></pre></div><h4 id="max"><a href="#max" class="header-anchor">#</a> MAX</h4> <p>功能:找出所选行指定的字段最大值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;max(id)&quot;</span>
<span class="token string">&quot;5&quot;</span>
</code></pre></div><h4 id="count"><a href="#count" class="header-anchor">#</a> COUNT</h4> <p>功能:统计所选行指定的字段的个数，<code>null</code>不计入统计</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;COUNT(id)&quot;</span>	<span class="token string">&quot;count(age)&quot;</span>
<span class="token string">&quot;5&quot;</span>	<span class="token string">&quot;4&quot;</span>
</code></pre></div><h4 id="和distinct搭配-先去重再聚合"><a href="#和distinct搭配-先去重再聚合" class="header-anchor">#</a> 和DISTINCT搭配(先去重再聚合)</h4> <p>以<code>COUNT</code>举例,有两条数据<code>university</code>是北京大学</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;COUNT(distinct `university`)&quot;</span>
<span class="token string">&quot;4&quot;</span>
</code></pre></div><h3 id="函数嵌套"><a href="#函数嵌套" class="header-anchor">#</a> 函数嵌套</h3> <p>将函数作为参数传入另一个函数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span>UPPER<span class="token punctuation">(</span><span class="token string">'helloworld'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;substr(UPPER('helloworld'), 2, 4)&quot;</span>
<span class="token string">&quot;ELLO&quot;</span>
</code></pre></div><h2 id="分组查询"><a href="#分组查询" class="header-anchor">#</a> 分组查询</h2> <p>使用关键字<code>GROUP BY</code>实现分组</p> <p>注意:若要使用<code>GROUP BY</code>，之前必须使用聚合函数。</p> <p>举例:以<code>university</code>分组查询数据</p> <p>错误示范(未在前面使用聚合函数):</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>正确示范,使用聚合函数<code>MAX</code>(用以举例):</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;max(id)&quot;</span>	<span class="token string">&quot;university&quot;</span>
<span class="token string">&quot;3&quot;</span>	        <span class="token string">&quot;北京大学&quot;</span>
<span class="token string">&quot;2&quot;</span>	        <span class="token string">&quot;复旦大学&quot;</span>
<span class="token string">&quot;5&quot;</span>	        <span class="token string">&quot;山东大学&quot;</span>
<span class="token string">&quot;4&quot;</span>	        <span class="token string">&quot;浙江大学&quot;</span>
</code></pre></div><h3 id="having-分组后筛选"><a href="#having-分组后筛选" class="header-anchor">#</a> HAVING(分组后筛选)</h3> <p>对分组查询<strong>后</strong>的数据进行筛选不能用<code>WHERE</code>，需要使用<code>HAVING</code></p> <p>举例:以<code>university</code>进行分组，并筛选出个数大于1的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;COUNT(*)&quot;</span>	<span class="token string">&quot;university&quot;</span>
<span class="token string">&quot;2&quot;</span>	        <span class="token string">&quot;北京大学&quot;</span>
</code></pre></div><h3 id="添加排序"><a href="#添加排序" class="header-anchor">#</a> 添加排序</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>device_id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token function">AVG</span><span class="token punctuation">(</span>device_id<span class="token punctuation">)</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;avg(device_id)&quot;</span>	<span class="token string">&quot;university&quot;</span>
<span class="token string">&quot;5432.0000&quot;</span>	        <span class="token string">&quot;山东大学&quot;</span>
<span class="token string">&quot;4340.5000&quot;</span>	        <span class="token string">&quot;北京大学&quot;</span>
<span class="token string">&quot;3214.0000&quot;</span>	        <span class="token string">&quot;复旦大学&quot;</span>
<span class="token string">&quot;2315.0000&quot;</span>	        <span class="token string">&quot;浙江大学&quot;</span>
</code></pre></div><h2 id="连接查询-多表查询"><a href="#连接查询-多表查询" class="header-anchor">#</a> 连接查询(多表查询)</h2> <p>语法:</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT 查询列表
FROM 表1 [别名]
[连接类型,默认INNER] JOIN 表2 [别名]
ON 连接条件
[WHERE 筛选条件]
[GROUP BY 分组]
[HAVING 分组后筛选]
[ORDER BY 排序]
</code></pre></div><p>连接类型:</p> <ul><li>INNER:内联,取交集，即查询的结果必须是左边和右表都存在的连接条件</li> <li>LEFT:左联,以左表为基准(主表)，右表若缺少连接条件的数据，将以<code>null</code>补齐</li> <li>RIGHT:右联,以右表为基准(主表)，左表若缺少连接条件的数据，将以<code>null</code>补齐</li></ul> <p>左联，右联其实是一个东西,调换顺序可互相转换。通常用左联。通常需要查询的数据主要来自哪个表，则选择其作为主表</p> <h3 id="内连接"><a href="#内连接" class="header-anchor">#</a> 内连接</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span>
<span class="token keyword">FROM</span> user_profile2
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span> <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;question_id&quot;</span>	<span class="token string">&quot;result&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;112&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;113&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;115&quot;</span>	        <span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;116&quot;</span>	        <span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;117&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;118&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;112&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;113&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
</code></pre></div><h3 id="左外连接"><a href="#左外连接" class="header-anchor">#</a> 左外连接</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span>
<span class="token keyword">FROM</span> user_profile2
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span> <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;question_id&quot;</span>	<span class="token string">&quot;result&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;112&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;113&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;115&quot;</span>	        <span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;116&quot;</span>	        <span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;117&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;118&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;112&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;113&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;4321&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	\N	            \N
</code></pre></div><p><strong>说明</strong>:右表<code>question_practice_detail</code>其实没有<code>device_id</code>为<code>4321</code>的数据，但左表有，最终结果将会补上这条数据，右表<code>question_practice_detail</code>缺失的部分以<code>null</code>补齐</p> <h3 id="右外连接"><a href="#右外连接" class="header-anchor">#</a> 右外连接</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> 
	question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span>
<span class="token keyword">FROM</span> user_profile2
<span class="token keyword">RIGHT</span> <span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gpa<span class="token punctuation">`</span></span> <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;question_id&quot;</span>	<span class="token string">&quot;result&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;112&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;113&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;115&quot;</span>	        <span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;116&quot;</span>	        <span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;117&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;118&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;112&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;113&quot;</span>	        <span class="token string">&quot;wrong&quot;</span>
</code></pre></div><h2 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h2> <p>将一个查询的结果作为查询列表放到另一个查询。子查询可出现在<code>SELECT</code>,<code>FROM</code>,<code>WHERE</code>,<code>HAVING</code>和<code>EXISTS</code>后。</p> <h3 id="where后的单行单列子查询"><a href="#where后的单行单列子查询" class="header-anchor">#</a> WHERE后的单行单列子查询</h3> <p>子查询的结果是单行单列</p> <p>举例:查询所有gpa大于device_id为2315的gpa的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> gpa <span class="token operator">&gt;</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> gpa <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> device_id <span class="token operator">=</span> <span class="token number">2315</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;active_days_within_30&quot;</span>
<span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    \N	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;4&quot;</span>	    <span class="token string">&quot;15&quot;</span>
<span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;20&quot;</span>
</code></pre></div><h3 id="where后的多行单列子查询"><a href="#where后的多行单列子查询" class="header-anchor">#</a> WHERE后的多行单列子查询</h3> <p>子查询的结果是多行单列，通常搭配<code>IN</code>,<code>NOT IN</code>,<code>ANY</code>,<code>SOME</code>,<code>ALL</code></p> <p>举例:查询所有gpa在device_id大于4000的数据的gpa的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> gpa <span class="token operator">IN</span> <span class="token punctuation">(</span>
	<span class="token keyword">SELECT</span> gpa <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> device_id <span class="token operator">&gt;</span> <span class="token number">4000</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;active_days_within_30&quot;</span>
<span class="token string">&quot;6543&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>	    <span class="token string">&quot;3.2&quot;</span>	<span class="token string">&quot;12&quot;</span>
<span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;20&quot;</span>
<span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;5&quot;</span>
<span class="token string">&quot;4321&quot;</span>	    <span class="token string">&quot;male&quot;</span>	    <span class="token string">&quot;28&quot;</span>	<span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;9&quot;</span>
</code></pre></div><h3 id="select后的子查询"><a href="#select后的子查询" class="header-anchor">#</a> SELECT后的子查询</h3> <p>举例:查询每个设备的答题次数</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
	user_profile2<span class="token punctuation">.</span>device_id<span class="token punctuation">,</span> 
	<span class="token punctuation">(</span>
		<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> 
        <span class="token keyword">FROM</span> question_practice_detail 
        <span class="token keyword">WHERE</span> question_practice_detail<span class="token punctuation">.</span>device_id <span class="token operator">=</span> user_profile2<span class="token punctuation">.</span>device_id
	<span class="token punctuation">)</span>  <span class="token keyword">AS</span> <span class="token identifier"><span class="token punctuation">`</span>count<span class="token punctuation">`</span></span> 
<span class="token keyword">FROM</span> user_profile2<span class="token punctuation">;</span>
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>&quot;device_id&quot;	&quot;count&quot;
&quot;2138&quot;	    &quot;1&quot;
&quot;3214&quot;	    &quot;2&quot;
&quot;6543&quot;	    &quot;1&quot;
&quot;2315&quot;	    &quot;3&quot;
&quot;5432&quot;	    &quot;3&quot;
&quot;2131&quot;	    &quot;1&quot;
&quot;4321&quot;	    &quot;0&quot;
</code></pre></div><h3 id="from后的子查询"><a href="#from后的子查询" class="header-anchor">#</a> FROM后的子查询</h3> <p>举例:查询gpa大于3.5的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> university<span class="token punctuation">,</span> gpa 
<span class="token keyword">FROM</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> gpa <span class="token operator">&gt;</span> <span class="token number">3.5</span>
<span class="token punctuation">)</span> <span class="token keyword">AS</span> a<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>
<span class="token string">&quot;3214&quot;</span>	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;4&quot;</span>
<span class="token string">&quot;2315&quot;</span>	    <span class="token string">&quot;浙江大学&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>
<span class="token string">&quot;5432&quot;</span>	    <span class="token string">&quot;山东大学&quot;</span>	    <span class="token string">&quot;3.8&quot;</span>
<span class="token string">&quot;4321&quot;</span>	    <span class="token string">&quot;复旦大学&quot;</span>	    <span class="token string">&quot;3.6&quot;</span>
</code></pre></div><p><strong>注意</strong>:<code>FROM</code>后的子查询结果其实是作为数据源来使用，所以需要像表一样给他取一个别名</p> <h2 id="分页查询"><a href="#分页查询" class="header-anchor">#</a> 分页查询</h2> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>LIMIT [offset 默认0] size
</code></pre></div><p><strong>注意</strong>:<code>offset</code>开始位置,<code>size</code>选取条数。<code>offset</code>从<code>0</code>开始计数。</p> <p>举例:从第5个开始，选取2条数据。也就是选择第4和5两条数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> university<span class="token punctuation">,</span> gpa <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> device_id <span class="token keyword">ASC</span> <span class="token keyword">LIMIT</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">;</span> 
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>
<span class="token string">&quot;3214&quot;</span>		<span class="token string">&quot;复旦大学&quot;</span>		<span class="token string">&quot;4&quot;</span>
<span class="token string">&quot;4321&quot;</span>		<span class="token string">&quot;复旦大学&quot;</span>		<span class="token string">&quot;3.6&quot;</span>
</code></pre></div><p>对于分页业务来说，页码<code>page</code>(通常从1开始)和每页数据量<code>size</code>来说，有公式</p> <div class="language- extra-class"><pre class="language-text"><code>LIMIT (page - 1) * size, size
</code></pre></div><h2 id="联合查询"><a href="#联合查询" class="header-anchor">#</a> 联合查询</h2> <p>将多条查询语句的结果合并成一个结果。使用关键字<code>UNION</code>联合两个sql语句。</p> <p>语法:</p> <div class="language- extra-class"><pre class="language-text"><code>查询语句1
UNION
查询语句2
UNION
...
</code></pre></div><p>举例: 查询<code>device_id</code>大于4000或者<code>question_id</code>是偶数的数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> device_id<span class="token punctuation">,</span> university <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> device_id <span class="token operator">&gt;</span> <span class="token number">4000</span>
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span>  device_id<span class="token punctuation">,</span> result <span class="token keyword">FROM</span> question_practice_detail <span class="token keyword">WHERE</span> question_id <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;university&quot;</span>
<span class="token string">&quot;6543&quot;</span>		<span class="token string">&quot;北京大学&quot;</span>
<span class="token string">&quot;5432&quot;</span>		<span class="token string">&quot;山东大学&quot;</span>
<span class="token string">&quot;4321&quot;</span>		<span class="token string">&quot;复旦大学&quot;</span>
<span class="token string">&quot;3214&quot;</span>		<span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;2315&quot;</span>		<span class="token string">&quot;right&quot;</span>
<span class="token string">&quot;5432&quot;</span>		<span class="token string">&quot;wrong&quot;</span>
<span class="token string">&quot;2131&quot;</span>		<span class="token string">&quot;right&quot;</span>
</code></pre></div><p><strong>注意</strong>:</p> <ul><li>两个查询的列数必须一致，列名是以第一个查询语句决定</li> <li>多个查询的列的类型要一致，否则会产生bug(浮点型数据遇到过精度问题)</li> <li><code>UNION</code>不加<code>ALL</code>,则会对数据进行去重</li> <li>通常不使用联合查询，除非数据来自两个(或多个)表，并且查询结果需要拼接</li></ul> <h2 id="查询关键字执行顺序"><a href="#查询关键字执行顺序" class="header-anchor">#</a> 查询关键字执行顺序</h2> <ol><li>FROM</li> <li>JOIN</li> <li>ON</li> <li>WHERE</li> <li>GROUP BY</li> <li>HAVING</li> <li>SELECT</li> <li>ORDER BY</li> <li>LIMIT [offset] size</li></ol> <h2 id="插入"><a href="#插入" class="header-anchor">#</a> 插入</h2> <p>语法(列名顺序和建表时一致)</p> <div class="language- extra-class"><pre class="language-text"><code>INSERT INTO 表名
VALUES (值),(值)...;
</code></pre></div><p>可以指定列名<em>个数</em>和<em>顺序</em></p> <div class="language- extra-class"><pre class="language-text"><code>INSERT INTO 表名(列名1,列名2,...)
VALUES(值1, 值2, ...),(值1, 值2, ...),...;
</code></pre></div><p><strong>注意</strong>:值的<em>个数</em>和<em>顺序</em>必须和列名<em>个数</em>和<em>顺序</em>一致</p> <p>举例:向表<code>user_profile2</code>插入一条数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">5321</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token string">'重庆大学'</span><span class="token punctuation">,</span><span class="token number">3.7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;active_days_within_30&quot;</span>
<span class="token string">&quot;2138&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>		<span class="token string">&quot;3.4&quot;</span>	<span class="token string">&quot;7&quot;</span>
<span class="token string">&quot;3214&quot;</span>		<span class="token string">&quot;male&quot;</span>		\N		<span class="token string">&quot;复旦大学&quot;</span>		<span class="token string">&quot;4&quot;</span>		<span class="token string">&quot;15&quot;</span>
<span class="token string">&quot;6543&quot;</span>		<span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>		<span class="token string">&quot;3.2&quot;</span>	<span class="token string">&quot;12&quot;</span>
<span class="token string">&quot;2315&quot;</span>		<span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>		<span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;5&quot;</span>
<span class="token string">&quot;5432&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>		<span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;20&quot;</span>
<span class="token string">&quot;2131&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;28&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>		<span class="token string">&quot;3.3&quot;</span>	<span class="token string">&quot;15&quot;</span>
<span class="token string">&quot;4321&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;28&quot;</span>	<span class="token string">&quot;复旦大学&quot;</span>		<span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;9&quot;</span>
<span class="token string">&quot;5321&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;22&quot;</span>	<span class="token string">&quot;重庆大学&quot;</span>		<span class="token string">&quot;3.7&quot;</span>	<span class="token string">&quot;11&quot;</span>
</code></pre></div><h3 id="方式二"><a href="#方式二" class="header-anchor">#</a> 方式二</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>INSERT INTO 表明
SET 列名=值,列名=值,...;
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> user_profile2 
<span class="token keyword">SET</span> gender<span class="token operator">=</span><span class="token string">'male'</span><span class="token punctuation">,</span>device_id<span class="token operator">=</span><span class="token number">6321</span><span class="token punctuation">,</span>university<span class="token operator">=</span><span class="token string">'四川大学'</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;active_days_within_30&quot;</span>
<span class="token string">&quot;2138&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;21&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>		<span class="token string">&quot;3.4&quot;</span>	<span class="token string">&quot;7&quot;</span>
<span class="token string">&quot;3214&quot;</span>		<span class="token string">&quot;male&quot;</span>		\N		<span class="token string">&quot;复旦大学&quot;</span>		<span class="token string">&quot;4&quot;</span>		<span class="token string">&quot;15&quot;</span>
<span class="token string">&quot;6543&quot;</span>		<span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;20&quot;</span>	<span class="token string">&quot;北京大学&quot;</span>		<span class="token string">&quot;3.2&quot;</span>	<span class="token string">&quot;12&quot;</span>
<span class="token string">&quot;2315&quot;</span>		<span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;23&quot;</span>	<span class="token string">&quot;浙江大学&quot;</span>		<span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;5&quot;</span>
<span class="token string">&quot;5432&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;25&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>		<span class="token string">&quot;3.8&quot;</span>	<span class="token string">&quot;20&quot;</span>
<span class="token string">&quot;2131&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;28&quot;</span>	<span class="token string">&quot;山东大学&quot;</span>		<span class="token string">&quot;3.3&quot;</span>	<span class="token string">&quot;15&quot;</span>
<span class="token string">&quot;4321&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;28&quot;</span>	<span class="token string">&quot;复旦大学&quot;</span>		<span class="token string">&quot;3.6&quot;</span>	<span class="token string">&quot;9&quot;</span>
<span class="token string">&quot;5321&quot;</span>		<span class="token string">&quot;male&quot;</span>		<span class="token string">&quot;22&quot;</span>	<span class="token string">&quot;重庆大学&quot;</span>		<span class="token string">&quot;3.7&quot;</span>	<span class="token string">&quot;11&quot;</span>
<span class="token string">&quot;6321&quot;</span>		<span class="token string">&quot;male&quot;</span>		\N		<span class="token string">&quot;四川大学&quot;</span>		\N		\N
</code></pre></div><h2 id="修改"><a href="#修改" class="header-anchor">#</a> 修改</h2> <h3 id="修改单个表"><a href="#修改单个表" class="header-anchor">#</a> 修改单个表</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>UPDATE 表名
SET 列=值,列=值,...
WHERE 筛选条件
</code></pre></div><p>筛选条件不是必须,但不加则会修改整张表。所以绝大多数情况都需要加。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> user_profile2 
<span class="token keyword">SET</span> age<span class="token operator">=</span><span class="token number">33</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token string">'female'</span>
<span class="token keyword">WHERE</span> device_id <span class="token operator">=</span> <span class="token number">5321</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> device_id <span class="token operator">=</span> <span class="token number">5321</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;university&quot;</span>	<span class="token string">&quot;gpa&quot;</span>	<span class="token string">&quot;active_days_within_30&quot;</span>
<span class="token string">&quot;5321&quot;</span>		<span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;33&quot;</span>	<span class="token string">&quot;重庆大学&quot;</span>		<span class="token string">&quot;3.7&quot;</span>	<span class="token string">&quot;11&quot;</span>
</code></pre></div><h3 id="修改多个关联表"><a href="#修改多个关联表" class="header-anchor">#</a> 修改多个关联表</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>UPDATE 表1 [表1别名]
连接类型 JOIN 表2 [表2别名]
ON 连接条件
SET 列=值,列=值,...
WHERE 筛选条件
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> user_profile2
<span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">SET</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">'female'</span><span class="token punctuation">,</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token string">'right'</span>
<span class="token keyword">WHERE</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">2138</span> <span class="token operator">AND</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">111</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span><span class="token punctuation">,</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span><span class="token punctuation">,</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>result<span class="token punctuation">`</span></span><span class="token punctuation">,</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span>
<span class="token keyword">FROM</span> user_profile2
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">2138</span> <span class="token operator">AND</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>question_id<span class="token punctuation">`</span></span><span class="token operator">=</span><span class="token number">111</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;device_id&quot;</span>	<span class="token string">&quot;gender&quot;</span>	<span class="token string">&quot;result&quot;</span>	<span class="token string">&quot;question_id&quot;</span>
<span class="token string">&quot;2138&quot;</span>		<span class="token string">&quot;female&quot;</span>	<span class="token string">&quot;right&quot;</span>		<span class="token string">&quot;111&quot;</span>
</code></pre></div><h2 id="删除"><a href="#删除" class="header-anchor">#</a> 删除</h2> <h3 id="删除单个表"><a href="#删除单个表" class="header-anchor">#</a> 删除单个表</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DELETE FROM 表名
WHERE 筛选条件
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> device_id <span class="token operator">=</span> <span class="token number">6321</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> device_id <span class="token operator">=</span> <span class="token number">6321</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;COUNT(*)&quot;</span>
<span class="token string">&quot;0&quot;</span>
</code></pre></div><h3 id="删除多个关联表"><a href="#删除多个关联表" class="header-anchor">#</a> 删除多个关联表</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DELETE 表1, 表2
FROM 表1 [表1别名]
连接类型 JOIN 表2 [表2别名]
ON 连接条件
WHERE 筛选条件
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELETE</span> user_profile2<span class="token punctuation">,</span> question_practice_detail
<span class="token keyword">FROM</span> user_profile2
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span>  user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token number">2138</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> user_profile2
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> question_practice_detail
<span class="token keyword">ON</span> question_practice_detail<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span>
<span class="token keyword">WHERE</span> user_profile2<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token number">2138</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;count(*)&quot;</span>
<span class="token string">&quot;0&quot;</span>
</code></pre></div><h2 id="库的管理"><a href="#库的管理" class="header-anchor">#</a> 库的管理</h2> <h3 id="创建"><a href="#创建" class="header-anchor">#</a> 创建</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE DATABASE 库名;
</code></pre></div><p>示例见开头<code>创建测试数据库并生成测试数据</code>,不能重复创建，使用<code>IF NOT EXISTS</code>增加容错</p> <h3 id="修改-2"><a href="#修改-2" class="header-anchor">#</a> 修改</h3> <p>通常修改字符集</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> mydb1 <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> gbk<span class="token punctuation">;</span>
</code></pre></div><h3 id="删除-2"><a href="#删除-2" class="header-anchor">#</a> 删除</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> mydb1<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;Database&quot;</span>
<span class="token string">&quot;information_schema&quot;</span>
<span class="token string">&quot;mysql&quot;</span>
<span class="token string">&quot;performance_schema&quot;</span>
<span class="token string">&quot;study&quot;</span>
<span class="token string">&quot;sys&quot;</span>
</code></pre></div><p>不能重复删除，使用<code>IF EXISTS</code>增加容错</p> <h2 id="表达管理"><a href="#表达管理" class="header-anchor">#</a> 表达管理</h2> <h3 id="创建-2"><a href="#创建-2" class="header-anchor">#</a> 创建</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE TABLE 表名(
	列名 列的类型 [长度] [约束],
	列名 列的类型 [长度] [约束],
	列名 列的类型 [长度] [约束],
	...
	列名 列的类型 [长度] [约束],
);
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>my_table<span class="token punctuation">`</span></span><span class="token punctuation">(</span>
<span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>device_id<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>gender<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">INT</span> <span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>university<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token identifier"><span class="token punctuation">`</span>province<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span>  <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="修改-3"><a href="#修改-3" class="header-anchor">#</a> 修改</h3> <h4 id="修改列名"><a href="#修改列名" class="header-anchor">#</a> 修改列名</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE 表名 CHANGE COLUMN 旧列名 新列名 类型 约束
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> my_table CHANGE <span class="token keyword">COLUMN</span> gender sex <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>注意</strong>:修改表名的时候要连带上类型和约束</p> <h4 id="修改列的类型或约束"><a href="#修改列的类型或约束" class="header-anchor">#</a> 修改列的类型或约束</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE 表名 MODIFY COLUMN 列名 类型 约束
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> my_table <span class="token keyword">MODIFY</span> <span class="token keyword">COLUMN</span> sex <span class="token keyword">BOOLEAN</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="新增列"><a href="#新增列" class="header-anchor">#</a> 新增列</h4> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE 表名 ADD COLUMN 列名 类型 约束
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> my_table <span class="token keyword">ADD</span> <span class="token keyword">COLUMN</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="删除列"><a href="#删除列" class="header-anchor">#</a> 删除列</h4> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE 表名 DROP COLUMN 列名
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> my_table <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
</code></pre></div><h4 id="修改表名"><a href="#修改表名" class="header-anchor">#</a> 修改表名</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE 旧表名 RENAME TO 新表名
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> my_table <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> my_table2<span class="token punctuation">;</span>
</code></pre></div><h3 id="删除表"><a href="#删除表" class="header-anchor">#</a> 删除表</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DROP TABLE 表名;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> my_table2<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;Tables_in_study&quot;</span>
<span class="token string">&quot;question_practice_detail&quot;</span>
<span class="token string">&quot;user_profile&quot;</span>
<span class="token string">&quot;user_profile2&quot;</span>
</code></pre></div><h3 id="复制表"><a href="#复制表" class="header-anchor">#</a> 复制表</h3> <h4 id="仅复制表的结构"><a href="#仅复制表的结构" class="header-anchor">#</a> 仅复制表的结构</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE TABLE 复制的表名 LIKE 被复制的表名;
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_copy_tanle <span class="token operator">LIKE</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><h4 id="复制表的结构和数据"><a href="#复制表的结构和数据" class="header-anchor">#</a> 复制表的结构和数据</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE TABLE 复制的表名 SELECT 查询列表 FROM 被复制的表名 [WHERE 筛选条件];
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_copy_tanle2 <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><h3 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h3> <p>本该放到<code>表的修改</code>里，但我认为这比较重要，单开一张</p> <h4 id="创建索引"><a href="#创建索引" class="header-anchor">#</a> 创建索引</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>ALTER TABLE 表名 ADD INDEX 索引名(字段名);
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> user_profile <span class="token keyword">ADD</span> <span class="token keyword">INDEX</span> index_device_id<span class="token punctuation">(</span>device_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="删除索引"><a href="#删除索引" class="header-anchor">#</a> 删除索引</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DROP INDEX 索引名 ON 表名;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> index_device_id <span class="token keyword">ON</span> user_profile<span class="token punctuation">;</span>
</code></pre></div><h2 id="常见数据类型"><a href="#常见数据类型" class="header-anchor">#</a> 常见数据类型</h2> <h3 id="整型"><a href="#整型" class="header-anchor">#</a> 整型</h3> <ul><li><code>TINYINT</code> 1字节</li> <li><code>SMALLINT</code> 2字节</li> <li><code>MEDIUMINT</code> 3字节</li> <li><code>INT/INTEGER</code> 4字节</li> <li><code>BIGINT</code> 8字节</li></ul> <p>默认是有符号的数据。若想指定无符号数据，需使用关键字<code>UNSIGNED</code>指定,例如</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table <span class="token punctuation">(</span>t1 <span class="token keyword">INT</span><span class="token punctuation">,</span> t2 <span class="token keyword">INT</span> <span class="token keyword">UNSIGNED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如上，t1是有符号<code>INT</code>,t2是无符号<code>INT</code>。</p> <h3 id="浮点型"><a href="#浮点型" class="header-anchor">#</a> 浮点型</h3> <ul><li><code>FLOAT</code> 4字节</li> <li><code>DOUBLE</code> 8字节</li> <li><code>DEC/DECIMAL</code> 占用字节取决于其精度和小数部分的长度，<code>M</code>范围为1到65535,<code>N</code>范围为0到30</li></ul> <p><code>FLOAT</code>,<code>DOUBLE</code>和<code>DEC/DECIMAL</code>一致，有两个参数<code>M</code>,<code>D</code>，<code>D</code>表示小数位数，<code>M</code>表示整数和小数位数之和。<code>M</code>,<code>D</code>不是必传，<code>FLOAT</code>,<code>DOUBLE</code>会自适应；<code>DEC/DECIMAL</code>默认<code>M</code>是10，<code>D</code>是0。所以<code>FLOAT</code>,<code>DOUBLE</code>通常不指定。举例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> my_table<span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table <span class="token punctuation">(</span>
	t1 <span class="token keyword">FLOAT</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	t2 <span class="token keyword">DOUBLE</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	t3 <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">123.45</span><span class="token punctuation">,</span> <span class="token number">123.45</span><span class="token punctuation">,</span> <span class="token number">123.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">123.4</span><span class="token punctuation">,</span> <span class="token number">123.4</span><span class="token punctuation">,</span> <span class="token number">123.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">234.567</span><span class="token punctuation">,</span> <span class="token number">234.567</span><span class="token punctuation">,</span> <span class="token number">234.567</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">3456.7</span><span class="token punctuation">,</span> <span class="token number">3456.7</span><span class="token punctuation">,</span> <span class="token number">3456.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;t1&quot;</span>		<span class="token string">&quot;t2&quot;</span>		<span class="token string">&quot;t3&quot;</span>
<span class="token string">&quot;123.45&quot;</span>	<span class="token string">&quot;123.45&quot;</span>	<span class="token string">&quot;123.45&quot;</span>
<span class="token string">&quot;123.40&quot;</span>	<span class="token string">&quot;123.40&quot;</span>	<span class="token string">&quot;123.40&quot;</span>
<span class="token string">&quot;234.57&quot;</span>	<span class="token string">&quot;234.57&quot;</span>	<span class="token string">&quot;234.57&quot;</span>
</code></pre></div><p>第一个插入是合法数据；第二个也是，但小数缺少一位，自动补全；第三个小数超出一位直接被截取；第四个整数位超出，直接插入失败</p> <h3 id="字符型"><a href="#字符型" class="header-anchor">#</a> 字符型</h3> <ul><li>CHAR 固定长度字符 参数<code>M</code>为<strong>字符</strong>长度,可省略,默认为1</li> <li>VARCHAR 可变长度字符(用多少占用多少) 参数<code>M</code>为<strong>字符</strong>长度,<strong>不可省略</strong></li></ul> <h3 id="日期型"><a href="#日期型" class="header-anchor">#</a> 日期型</h3> <ul><li><code>DATETIME</code> 8字节</li> <li><code>TIMESTAMP</code> 4字节</li></ul> <p>时间戳<code>TIMESTAMP</code>由于占用字节较少，存储的时间将止于2038年。可以考虑用<code>BIGINT</code>来存储时间戳。时间戳是一个绝对的时间值，与时区无关，简单来说就是1607817600000在中国是2020-12-13,在美国也是2020-12-13</p> <h2 id="常见约束"><a href="#常见约束" class="header-anchor">#</a> 常见约束</h2> <ul><li><code>NOT NULL</code> 非空,保证该字段的值不能为空,可以理解成必填项</li> <li><code>DEFAULT</code> 默认,用于保证该字段有默认值</li> <li><code>PRIMARY KEY</code> 主键,保证字段唯一且非空</li> <li><code>UNIQUE</code> 保证字段唯一,但可以为空。</li></ul> <p>通常在列上添加约束。</p> <p>修改表时添加约束就是<code>修改列的类型或约束</code>,示例在上面。建表时添加约束示例:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> my_table<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table <span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>教程说一个表约束为<code>UNIQUE</code>的字段，只能存在一个<code>null</code>。经测试，这个说法是错误的,mysql版本<code>5.7.36</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token string">'28'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;name&quot;</span>		<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;seat&quot;</span>
<span class="token string">&quot;1&quot;</span>		<span class="token string">&quot;zhangsan&quot;</span>	<span class="token string">&quot;18&quot;</span>	\N
<span class="token string">&quot;2&quot;</span>		<span class="token string">&quot;lisi&quot;</span>		<span class="token string">&quot;28&quot;</span>	\N
</code></pre></div><h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <p>简单来说就是一个或多个sql语句当成一个执行单元，要么全部成功，要么全部失败，如果失败支持回滚。<code>INSERT</code>,<code>UPDATE</code>和<code>DELETE</code>会隐式开启事务</p> <p>显式开启事务步骤</p> <ol><li><code>SET autocommit = 0;</code>:关闭自动提交(<code>INSERT</code>,<code>UPDATE</code>和<code>DELETE</code>会隐式开启事务,禁止他们自动提交)。这个设置影响范围是当前事务</li> <li><code>START TRANSACTION;</code>:开始事务</li> <li>编写事务中的sql语句</li> <li><code>COMMIT/ROLLBACK</code>:<code>COMMIT</code>提交事务(写入磁盘)，<code>ROLLBACK</code>回滚事务</li></ol> <p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> my_table <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">10</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> my_table <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">20</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;name&quot;</span>		<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;seat&quot;</span>
<span class="token string">&quot;1&quot;</span>		<span class="token string">&quot;zhangsan&quot;</span>	<span class="token string">&quot;10&quot;</span>	\N
<span class="token string">&quot;2&quot;</span>		<span class="token string">&quot;lisi&quot;</span>		<span class="token string">&quot;20&quot;</span>	\N
</code></pre></div><p>回滚示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> my_table <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">100</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> my_table <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">200</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;name&quot;</span>		<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;seat&quot;</span>
<span class="token string">&quot;1&quot;</span>		<span class="token string">&quot;zhangsan&quot;</span>	<span class="token string">&quot;10&quot;</span>	\N
<span class="token string">&quot;2&quot;</span>		<span class="token string">&quot;lisi&quot;</span>		<span class="token string">&quot;20&quot;</span>	\N
</code></pre></div><p>接下来是重点，上面的代码无法抓住错误，也就不能自动回滚。需要搭配存储过程使用。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DELIMITER</span> $$
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> <span class="token identifier"><span class="token punctuation">`</span>fn<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
    <span class="token keyword">DECLARE</span> <span class="token keyword">EXIT</span> <span class="token keyword">HANDLER</span> <span class="token keyword">FOR</span> SQLEXCEPTION
    <span class="token keyword">BEGIN</span>
        <span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>  <span class="token comment">-- 回滚事务</span>
    <span class="token keyword">END</span><span class="token punctuation">;</span>

    <span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> myTable values1 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">insert</span> <span class="token keyword">into</span> myTable values2 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment">-- 这里会抛出错误</span>
    <span class="token keyword">COMMIT</span><span class="token punctuation">;</span> <span class="token comment">-- 这里将不会被提交</span>
<span class="token keyword">END</span>$$
<span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span>
</code></pre></div><p>真实情况举例，建表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>jsontest<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>mydata<span class="token punctuation">`</span></span> json <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> fn<span class="token punctuation">;</span>
<span class="token keyword">DELIMITER</span> $$

<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> <span class="token identifier"><span class="token punctuation">`</span>fn<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
    <span class="token keyword">DECLARE</span> <span class="token keyword">EXIT</span> <span class="token keyword">HANDLER</span> <span class="token keyword">FOR</span> SQLEXCEPTION
    <span class="token keyword">BEGIN</span>
        <span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span> 
    <span class="token keyword">END</span><span class="token punctuation">;</span>

    <span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
    <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> jsontest <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'{&quot;phone&quot;: &quot;13500001111&quot;}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> jsontest <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2333</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">END</span>$$
<span class="token keyword">DELIMITER</span> <span class="token punctuation">;</span>

<span class="token keyword">CALL</span> fn<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>上面代码会抛出错误，并自动回滚事务。表中不会写入任何数据。</p> <h3 id="事务隔离级别"><a href="#事务隔离级别" class="header-anchor">#</a> 事务隔离级别</h3> <p>对于两个事务T1和T2</p> <ul><li><code>脏读</code>：T1读取了被T2更新但还<strong>没被提交</strong>的数据之后，若T2回滚，T1读取的数据就是临时且无效的数据</li> <li><code>不可重复读</code>：T1读取了数据，然后T2<strong>更新</strong>了数据之后，T1<strong>再次</strong>读取该数据。两次读取的数据不一致</li> <li><code>幻读</code>：T1读取数(通常多行)，然后T2插入新行,之后T1再次读取就会多出几行</li></ul> <p>脏读和幻读比较类似，脏读是读取被修改数据，幻读是读取被新增数据</p> <h4 id="读未提交"><a href="#读未提交" class="header-anchor">#</a> 读未提交</h4> <p>可读取已修改未提交的数据，<code>脏读</code>,<code>不可重复读</code>和<code>幻读</code>皆不可避免</p> <h4 id="读已提交"><a href="#读已提交" class="header-anchor">#</a> 读已提交</h4> <p>不会读取已修改，但未提交的数据，此时读取的还是原始数据，可避免<code>脏读</code>问题，但不可避免<code>不可重复读</code>和<code>幻读</code>。</p> <p>举例：事务T1修改了数据但未提交，此时T2读取到的数据还是原始数据，然后T1提交，T2再次读取数据，此时读取的是新数据，T2两次读取数据不一致，也就是<code>不可重复读</code></p> <h4 id="可重复读-默认"><a href="#可重复读-默认" class="header-anchor">#</a> 可重复读(默认)</h4> <p>简单来说就是读取的数据定格在开启事务的那一刻，之后不管该数据被其他事务如何修改，在本次事务到结束使用的都是原始数据。
可避免<code>脏读</code>和<code>不可重复读</code>，不可避免<code>幻读</code></p> <h4 id="可串行化"><a href="#可串行化" class="header-anchor">#</a> 可串行化</h4> <p>事务T1未完成，不开始事务T2。所有事务串行执行。<code>脏读</code>,<code>不可重复读</code>和<code>幻读</code>皆可避免，性能较低</p> <h2 id="视图-用的少"><a href="#视图-用的少" class="header-anchor">#</a> 视图(用的少)</h2> <p>通过普通表<strong>动态</strong>生成，可以理解成<strong>临时虚拟</strong>表，和普通表一样使用。用的少，换个数据库需要重新生成</p> <h3 id="创建视图"><a href="#创建视图" class="header-anchor">#</a> 创建视图</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE VIEW 视图名 AS sql语句;
</code></pre></div><p>举例:将查询gpa&gt;3.5的用户的大体情况封装成视图，取名为v1</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> v1 
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> question_practice_detail <span class="token keyword">WHERE</span> device_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> device_id <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> gpa <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查看视图"><a href="#查看视图" class="header-anchor">#</a> 查看视图</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DESC 视图名;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DESC</span> v1<span class="token punctuation">;</span>
</code></pre></div><h3 id="修改视图"><a href="#修改视图" class="header-anchor">#</a> 修改视图</h3> <h4 id="方式一"><a href="#方式一" class="header-anchor">#</a> 方式一</h4> <p>语法意为若存在视图，则替换掉，反之创建</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE OR REPLACE VIEW 视图名 AS sql语句;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">VIEW</span> v1 
<span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> gpa <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">;</span> 
</code></pre></div><p>使用时将v1当成普通表使用即可,修改视图数据会更新表的数据。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> v1 <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">6321</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token string">'四川大学'</span><span class="token punctuation">,</span><span class="token number">3.2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> v1<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2<span class="token punctuation">;</span>
</code></pre></div><p>注意以下情况不能修改视图数据(修改视图数据基本没什么应用场景)</p> <ul><li>包含<code>分组函数</code>，<code>DISTINCT</code>, <code>GROUP BY</code>, <code>HAVING</code>, <code>UNION</code>关键字的sql语句</li> <li>常量视图；<code>SELECT</code>包含子查询</li> <li><code>JOIN</code></li> <li><code>FROM</code>一个不能更新的视图</li> <li><code>WHERE</code>子句的子查询引用了<code>FROM</code>子句中的表</li></ul> <h4 id="方式二-2"><a href="#方式二-2" class="header-anchor">#</a> 方式二</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>ALTER VIEW 视图名 AS sql语句;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">VIEW</span> v1 <span class="token keyword">AS</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile2 <span class="token keyword">WHERE</span> gender <span class="token operator">=</span> <span class="token string">'male'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="删除视图"><a href="#删除视图" class="header-anchor">#</a> 删除视图</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DROP VIEW 视图名1, 视图名2, ..., 视图名n;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> v1<span class="token punctuation">;</span>
</code></pre></div><h2 id="锁"><a href="#锁" class="header-anchor">#</a> 锁</h2> <p>常用的简单分类:从粒度来分，分别为<code>表锁</code>和<code>行锁</code>；从类型来分，分为<code>读锁</code>和<code>写锁</code>。</p> <p>使用命令行学习(多连接)</p> <h3 id="表锁"><a href="#表锁" class="header-anchor">#</a> 表锁</h3> <h3 id="添加表锁"><a href="#添加表锁" class="header-anchor">#</a> 添加表锁</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>LOCK TABLE 表名 READ|WRITE;
</code></pre></div><p><code>READ</code>表示<code>读锁</code>，<code>WRITE</code>表示<code>写锁</code></p> <p>举例：给表<code>user_profile</code>加一把<code>读锁</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">LOCK</span> <span class="token keyword">TABLE</span> user_profile <span class="token keyword">READ</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>注意</strong>A连接对表添加了<code>读锁</code>,A连接可以读操作，但不可以写操作； B连接也可以读操作，但写操作会被阻塞，直到A连接删除表锁。简而来说：大家都可以读，大家都不可以写。</p> <p>举例：给表<code>user_profile</code>加一把<code>写锁</code></p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">LOCK</span> <span class="token keyword">TABLE</span> user_profile <span class="token keyword">WRITE</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>注意</strong>A连接对表添加了<code>写锁</code>,A连接可以读操作，也可以写操作； B连接读写操作均不允许，直到A连接删除表锁。简单来说：只有我可以读写，其他人都不可以。</p> <h3 id="删除表锁"><a href="#删除表锁" class="header-anchor">#</a> 删除表锁</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">UNLOCK</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="行锁"><a href="#行锁" class="header-anchor">#</a> 行锁</h3> <h3 id="读锁"><a href="#读锁" class="header-anchor">#</a> 读锁</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT ... FROM T1  LOCK IN SHARE MODE
</code></pre></div><p>举例:</p> <p>A事务</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">LOCK</span> <span class="token operator">IN</span> <span class="token keyword">SHARE</span> <span class="token keyword">MODE</span><span class="token punctuation">;</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p>B事务(须在A事务<code>COMMIT</code>或<code>ROLLBACK</code>之前执行)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> user_profile <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">100</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>注意</strong>A事务对行添加了<code>读锁</code>,A事务可以读操作，也可以写操作； B事务可以读操作，但写操作会被阻塞，直到A事务删除行锁。</p> <h3 id="写锁"><a href="#写锁" class="header-anchor">#</a> 写锁</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT ... FROM T1  FOR UPDATE
</code></pre></div><p>举例:
A事务</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">FOR</span> <span class="token keyword">UPDATE</span><span class="token punctuation">;</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> autocommit <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p>B事务(须在A事务<code>COMMIT</code>或<code>ROLLBACK</code>之前执行)</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> user_profile <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> user_profile <span class="token keyword">SET</span> age <span class="token operator">=</span> <span class="token number">200</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>注意</strong>A事务对行添加了<code>写锁</code>,A事务可以读操作，也可以写操作； B事务可以读操作，但写操作会被阻塞，直到A事务删除行锁。经测试，<code>读锁</code>和<code>写锁</code>效果居然一致</p> <h2 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h2> <h3 id="查看所有"><a href="#查看所有" class="header-anchor">#</a> 查看所有</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>SHOW GLOBAL|[SESSION] VARIABLES
</code></pre></div><p><code>GLOBAL</code>查看全局变量，<code>SESSION</code>查看会话变量
举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">SESSION</span> VARIABLES<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span> VARIABLES<span class="token punctuation">;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">GLOBAL</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'auto%'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="查看具体"><a href="#查看具体" class="header-anchor">#</a> 查看具体</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT @@global|[SESSION].系统变量名;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@global.binlog_cache_size</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="赋值变量"><a href="#赋值变量" class="header-anchor">#</a> 赋值变量</h3> <p>方式一</p> <div class="language- extra-class"><pre class="language-text"><code>SET GLOBAL|[SESSION] 系统变量名 = 值;
</code></pre></div><p>方式二</p> <div class="language- extra-class"><pre class="language-text"><code>SET @@global|[SESSION].系统变量名 = 值;
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> @<span class="token variable">@global.autocommit</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> @<span class="token variable">@global.autocommit</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@global.autocommit</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="自定义变量"><a href="#自定义变量" class="header-anchor">#</a> 自定义变量</h3> <h4 id="用户变量"><a href="#用户变量" class="header-anchor">#</a> 用户变量</h4> <p>针对当前会话(连接)有效</p> <h5 id="声明-赋值用户变量"><a href="#声明-赋值用户变量" class="header-anchor">#</a> 声明/赋值用户变量</h5> <p>方式一</p> <div class="language- extra-class"><pre class="language-text"><code>SET @用户变量名 = 值;
</code></pre></div><p>方式二</p> <div class="language- extra-class"><pre class="language-text"><code>SET @用户变量名 := 值;
</code></pre></div><p>方式一</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT @用户变量名 := 值;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token variable">@my_var</span> <span class="token operator">=</span> <span class="token number">233</span><span class="token punctuation">;</span>
</code></pre></div><h5 id="查询用户变量"><a href="#查询用户变量" class="header-anchor">#</a> 查询用户变量</h5> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT @用户变量名;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token variable">@my_var</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="局部变量"><a href="#局部变量" class="header-anchor">#</a> 局部变量</h4> <p>作用域: 仅仅在定义它的<code>BEGIN</code>和<code>END</code>中有效。</p> <p><strong>注意</strong>声明局部变量的语句必须放在<code>BEGIN</code>和<code>END</code>中的开头</p> <h5 id="声明局部变量"><a href="#声明局部变量" class="header-anchor">#</a> 声明局部变量</h5> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DECLARE 局部变量名 类型;
DECLARE 局部变量名 类型 DEFAULT 值;
</code></pre></div><h5 id="赋值局部变量"><a href="#赋值局部变量" class="header-anchor">#</a> 赋值局部变量</h5> <p>方式一</p> <div class="language- extra-class"><pre class="language-text"><code>SET 局部变量名 = 值;
</code></pre></div><p>方式二</p> <div class="language- extra-class"><pre class="language-text"><code>SET 局部变量名 := 值;
</code></pre></div><p>方式三</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT @局部变量名 := 值;
</code></pre></div><h5 id="查询局部变量"><a href="#查询局部变量" class="header-anchor">#</a> 查询局部变量</h5> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT 局部变量名;
</code></pre></div><h2 id="存储过程和函数"><a href="#存储过程和函数" class="header-anchor">#</a> 存储过程和函数</h2> <p>mysql的存储过程和函数可以理解成主流编程语言的函数。相比于存储过程，函数<strong>只能</strong>有一个返回值</p> <h3 id="存储过程"><a href="#存储过程" class="header-anchor">#</a> 存储过程</h3> <p>一组预先编译好的sql语句的集合，理解成批处理语句</p> <h4 id="创建-3"><a href="#创建-3" class="header-anchor">#</a> 创建</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DELIMITER 结束标志
CREATE PROCEDURE 存储过程名(参数列表)
BEGIN
一组sql语句
END 结束标志
</code></pre></div><p>参数包括三部分</p> <div class="language- extra-class"><pre class="language-text"><code>参数模式 参数名 参数类型
</code></pre></div><p>参数模式有:</p> <ul><li><code>IN</code> 表示传入参数</li> <li><code>OUT</code> 表示返回值</li> <li><code>INOUT</code> 既可以是传入参数 也可以是 返回值</li></ul> <p>举例:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token operator">IN</span> age <span class="token keyword">int</span>
</code></pre></div><h4 id="调用"><a href="#调用" class="header-anchor">#</a> 调用</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>CALL 存储过程名(参数列表);
</code></pre></div><h4 id="删除-3"><a href="#删除-3" class="header-anchor">#</a> 删除</h4> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>DROP PROCEDURE IF EXISTS 存储过程名;
</code></pre></div><p>举例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> myfun<span class="token punctuation">;</span>
</code></pre></div><h4 id="案例"><a href="#案例" class="header-anchor">#</a> 案例</h4> <h5 id="无参"><a href="#无参" class="header-anchor">#</a> 无参</h5> <p>插入数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> my_table<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table <span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myfun<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">CALL</span> myfun<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;name&quot;</span>		<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;seat&quot;</span>
<span class="token string">&quot;1&quot;</span>		<span class="token string">&quot;zhangsan&quot;</span>	<span class="token string">&quot;18&quot;</span>	\N
<span class="token string">&quot;2&quot;</span>		<span class="token string">&quot;lisi&quot;</span>		<span class="token string">&quot;28&quot;</span>	\N
</code></pre></div><h5 id="in模式"><a href="#in模式" class="header-anchor">#</a> IN模式</h5> <p>根据id修改name</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> my_table<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table <span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> myfun<span class="token punctuation">;</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myfun<span class="token punctuation">(</span><span class="token operator">IN</span> inid <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token operator">IN</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">UPDATE</span> my_table <span class="token keyword">SET</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> inid<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">CALL</span> myfun<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;name&quot;</span>	<span class="token string">&quot;age&quot;</span>	<span class="token string">&quot;seat&quot;</span>
<span class="token string">&quot;1&quot;</span>		<span class="token string">&quot;王五&quot;</span>	<span class="token string">&quot;18&quot;</span>	\N
<span class="token string">&quot;2&quot;</span>		<span class="token string">&quot;lisi&quot;</span>	<span class="token string">&quot;28&quot;</span>	\N
</code></pre></div><h5 id="out模式"><a href="#out模式" class="header-anchor">#</a> OUT模式</h5> <p>根据id返回name</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> myfun<span class="token punctuation">;</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myfun<span class="token punctuation">(</span><span class="token operator">IN</span> <span class="token identifier"><span class="token punctuation">`</span>myid<span class="token punctuation">`</span></span> <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token keyword">OUT</span> <span class="token identifier"><span class="token punctuation">`</span>myname<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> my_table<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>myname<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> my_table <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>myid<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $


<span class="token keyword">CALL</span> myfun<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">@myname</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token variable">@myname</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;@myname&quot;</span>
<span class="token string">&quot;王五&quot;</span>
</code></pre></div><h5 id="inout模式"><a href="#inout模式" class="header-anchor">#</a> INOUT模式</h5> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> myfun<span class="token punctuation">;</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myfun<span class="token punctuation">(</span><span class="token keyword">INOUT</span> <span class="token identifier"><span class="token punctuation">`</span>myid<span class="token punctuation">`</span></span> <span class="token keyword">INT</span><span class="token punctuation">,</span> <span class="token keyword">INOUT</span> <span class="token identifier"><span class="token punctuation">`</span>myname<span class="token punctuation">`</span></span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">SELECT</span> my_table<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span> my_table<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token keyword">INTO</span> <span class="token identifier"><span class="token punctuation">`</span>myname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>myid<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> my_table <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token identifier"><span class="token punctuation">`</span>myid<span class="token punctuation">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">SET</span> <span class="token variable">@myid</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">CALL</span> myfun<span class="token punctuation">(</span><span class="token variable">@myid</span><span class="token punctuation">,</span> <span class="token variable">@myname</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token variable">@myid</span><span class="token punctuation">,</span> <span class="token variable">@myname</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;@myid&quot;</span>	<span class="token string">&quot;@myname&quot;</span>
<span class="token string">&quot;100&quot;</span>	<span class="token string">&quot;王五&quot;</span>
</code></pre></div><h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <p>函数更符合传统编程语言直觉。
语法</p> <div class="language- extra-class"><pre class="language-text"><code>DELIMITER 结束标志
CREATE FUNCTION 函数名(参数列表) RETURNS 返回类型
BEGIN
函数体
RETURN 返回值
END 结束标志
</code></pre></div><p>这里参数包含<code>参数名</code>和<code>参数类型</code>,调用时使用<code>SELECT 函数名();</code>使用<code>DROP FUNCTION 函数名;</code>删除函数</p> <p>举例:根据id返回name</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">FUNCTION</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> foo<span class="token punctuation">;</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> foo<span class="token punctuation">(</span>myid <span class="token keyword">INT</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> n <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">;</span>
	<span class="token keyword">SELECT</span> NAME <span class="token keyword">INTO</span> n <span class="token keyword">FROM</span> my_table <span class="token keyword">WHERE</span> id <span class="token operator">=</span> myid<span class="token punctuation">;</span>
	<span class="token keyword">RETURN</span> n<span class="token punctuation">;</span>
<span class="token keyword">END</span> $
<span class="token keyword">SELECT</span> foo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;foo(1)&quot;</span>
<span class="token string">&quot;王五&quot;</span>
</code></pre></div><h2 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h2> <p>循环控制</p> <ul><li><code>ITERATE</code> 类比主流编程语言<code>continue</code></li> <li><code>LEAVE</code> 类比主流编程语言<code>break</code></li></ul> <h3 id="while循环"><a href="#while循环" class="header-anchor">#</a> WHILE循环</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>[标签:] WHILE 循环条件 DO
	循环体;
END WHILE [标签];
</code></pre></div><p>示例</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> my_table<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> my_table <span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
	age <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
	seat <span class="token keyword">INT</span> <span class="token keyword">UNIQUE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> pro_while<span class="token punctuation">;</span> 
<span class="token keyword">DELIMITER</span> $ 
<span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> pro_while<span class="token punctuation">(</span><span class="token operator">IN</span> num <span class="token keyword">INT</span><span class="token punctuation">)</span> 
<span class="token keyword">BEGIN</span> 
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1</span><span class="token punctuation">;</span> 
	<span class="token keyword">DECLARE</span> _max <span class="token keyword">INT</span> <span class="token keyword">DEFAULT</span> <span class="token number">1000</span><span class="token punctuation">;</span> 
	my_while: <span class="token keyword">WHILE</span> i <span class="token operator">&lt;=</span> num <span class="token keyword">DO</span> 
		<span class="token keyword">IF</span> i <span class="token operator">&gt;=</span> _max <span class="token keyword">THEN</span> 
			<span class="token keyword">LEAVE</span> my_while<span class="token punctuation">;</span> 
		<span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span> 
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> my_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> CONCAT<span class="token punctuation">(</span><span class="token string">'第'</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token string">'条数据'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> FLOOR<span class="token punctuation">(</span>RAND<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token keyword">SET</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> 
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span> my_while<span class="token punctuation">;</span> 
	
<span class="token keyword">END</span> $  

<span class="token keyword">CALL</span> pro_while<span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> my_table<span class="token punctuation">;</span>
</code></pre></div><h3 id="loop循环"><a href="#loop循环" class="header-anchor">#</a> LOOP循环</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>[标签:] LOOP 循环条件 
	循环体;
END LOOP [标签];
</code></pre></div><h3 id="repeat循环"><a href="#repeat循环" class="header-anchor">#</a> REPEAT循环</h3> <p>语法</p> <div class="language- extra-class"><pre class="language-text"><code>[标签:] REPEAT 
	循环体;
UNTIL 结束条件;
END REPEAT [标签];
</code></pre></div><h2 id="递归查询"><a href="#递归查询" class="header-anchor">#</a> 递归查询</h2> <p><code>递归查询</code>本该放到<code>循环</code>里，不过我学习<code>循环</code>的初衷就是为了递归查询，所以并列<code>循环</code>单开一节。</p> <h3 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h3> <p>传入一个<code>id</code>，查询到其所有子孙节点</p> <h3 id="创建测试数据"><a href="#创建测试数据" class="header-anchor">#</a> 创建测试数据</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> tree_table<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>tree_table<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
	pid <span class="token keyword">INT</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">11000</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">11100</span><span class="token punctuation">,</span><span class="token number">11000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">11200</span><span class="token punctuation">,</span><span class="token number">11000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">12000</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">12100</span><span class="token punctuation">,</span><span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">12200</span><span class="token punctuation">,</span><span class="token number">12000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">13000</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">13100</span><span class="token punctuation">,</span><span class="token number">13000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">13200</span><span class="token punctuation">,</span><span class="token number">13000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">21000</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">21100</span><span class="token punctuation">,</span><span class="token number">21000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">21200</span><span class="token punctuation">,</span><span class="token number">21000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">22000</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">22100</span><span class="token punctuation">,</span><span class="token number">22000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">22200</span><span class="token punctuation">,</span><span class="token number">22000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">22300</span><span class="token punctuation">,</span><span class="token number">22000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">30000</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">31000</span><span class="token punctuation">,</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tree_table <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token number">32000</span><span class="token punctuation">,</span><span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>pid</code>指向父级<code>id</code>,没有父级则<code>pid</code>为<code>null</code></p> <h3 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h3> <ul><li>定义变量<code>ids</code>存放所有子孙节点id(将id以<code>,</code>拼接成字符串)</li> <li>定义变量<code>tempids</code>存放下次需要查询节点id(将id以<code>,</code>拼接成字符串)</li> <li>将传入<code>id</code>转成字符串并复制给<code>tempids</code>,然后开始循环</li> <li>每次循环时，先将<code>tempids</code>的内容放到<code>ids</code>，然后查询表中所有<code>id</code>被包含在<code>tempids</code>中的数据(使用函数<code>FIND_IN_SET</code>,该函数功能是查询子串在主串中的位置，小于等于0就是找不到),再将查询到的数据的<code>id</code>拼接起来替换<code>tempids</code>的值，结束循环的条件是<code>tempids</code>为<code>null</code></li></ul> <h3 id="实现"><a href="#实现" class="header-anchor">#</a> 实现</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">FUNCTION</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> get_children_tag<span class="token punctuation">;</span>
<span class="token keyword">DELIMITER</span> $
<span class="token keyword">CREATE</span> <span class="token keyword">FUNCTION</span> get_children_tag<span class="token punctuation">(</span>myid <span class="token keyword">INT</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> ids <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span><span class="token punctuation">;</span>
	<span class="token keyword">DECLARE</span> tempids <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	<span class="token keyword">SET</span> tempids <span class="token operator">=</span> CONCAT<span class="token punctuation">(</span>myid<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	my_while: <span class="token keyword">WHILE</span> tempids <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DO</span>
		<span class="token keyword">SET</span> ids <span class="token operator">=</span> CONCAT_WS<span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span>ids<span class="token punctuation">,</span> tempids<span class="token punctuation">)</span><span class="token punctuation">;</span> 
		<span class="token keyword">SELECT</span> GROUP_CONCAT<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">INTO</span> tempids <span class="token keyword">FROM</span> tree_table <span class="token keyword">WHERE</span> FIND_IN_SET<span class="token punctuation">(</span>CONCAT<span class="token punctuation">(</span>pid<span class="token punctuation">)</span><span class="token punctuation">,</span>tempids<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">;</span>  
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span> my_while<span class="token punctuation">;</span>
	<span class="token keyword">RETURN</span> ids<span class="token punctuation">;</span>
<span class="token keyword">END</span> $

<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tree_table <span class="token keyword">WHERE</span> FIND_IN_SET<span class="token punctuation">(</span>id<span class="token punctuation">,</span> get_children_tag<span class="token punctuation">(</span><span class="token number">20000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-xls extra-class"><pre class="language-xls"><code><span class="token string">&quot;id&quot;</span>	<span class="token string">&quot;pid&quot;</span>
<span class="token string">&quot;20000&quot;</span>	\N
<span class="token string">&quot;21000&quot;</span>	<span class="token string">&quot;20000&quot;</span>
<span class="token string">&quot;21100&quot;</span>	<span class="token string">&quot;21000&quot;</span>
<span class="token string">&quot;21200&quot;</span>	<span class="token string">&quot;21000&quot;</span>
<span class="token string">&quot;22000&quot;</span>	<span class="token string">&quot;20000&quot;</span>
<span class="token string">&quot;22100&quot;</span>	<span class="token string">&quot;22000&quot;</span>
<span class="token string">&quot;22200&quot;</span>	<span class="token string">&quot;22000&quot;</span>
<span class="token string">&quot;22300&quot;</span>	<span class="token string">&quot;22000&quot;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">4/17/2024, 7:38:54 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/nest.html" class="prev">
        nest
      </a></span> <span class="next"><a href="/docs/MinIO.html">
        MinIO
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/docs/assets/js/app.e9bf7062.js" defer></script><script src="/docs/assets/js/2.21081ec6.js" defer></script><script src="/docs/assets/js/1.d6a5e65b.js" defer></script><script src="/docs/assets/js/57.157d15a4.js" defer></script>
  </body>
</html>
